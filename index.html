<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>universalezra</title><link rel="apple-touch-icon" sizes="180x180" href="/dashboard/apple-touch-icon1.png" /><link rel="icon" type="image/png" sizes="32x32" href="/dashboard/favicon-32x321.png" /><link rel="icon" type="image/png" sizes="16x16" href="/dashboard/favicon-16x161.png" /><link rel="manifest" href="/dashboard/site.webmanifest" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" /><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script><style>:root{--primary:#8e44ad;--accent:#00a8ff;--success:#2ecc71;--danger:#e74c3c;--light:#ecf0f1;--dark:#1a1a2e;--bg-main:#16213e;--bg-panel:rgba(26,26,46,0.9);--text-primary:#e0fbfc;--text-secondary:#98ded9;--border-color:rgba(0,168,255,0.3)}*{box-sizing:border-box}html,body{width:100%;height:100%;margin:0;padding:0;overflow:hidden;font-family:'Courier New',Courier,monospace;background-color:var(--bg-main);color:#00ff00;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body::before{content:"Ezra A";position:fixed;bottom:10px;left:10px;font-size:1.5rem;color:rgba(255,255,255,0.1);z-index:999;pointer-events:none;opacity:.8}#main-viewport{position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden}#grid-container{width:500vw;height:500vh;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr 1fr 1fr;transform:translate3d(-200vw,-200vh,0);transition:transform .7s cubic-bezier(.86,0,.07,1)}.grid-block{width:100vw;height:100vh;position:relative;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;border:1px solid rgba(255,255,255,0.05);padding:20px}.grid-block-background{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;filter:blur(3px);-webkit-filter:blur(3px);z-index:1}.grid-block-content{position:relative;z-index:2;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.5);padding:20px;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.panel{position:fixed;background:rgba(26,26,46,0.7);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);z-index:1010;box-shadow:0 0 50px rgba(0,0,0,.6);transition:transform .5s cubic-bezier(.68,-.55,.27,1.55);display:flex;flex-direction:column;color:#00ff00}.panel.active{transform:translate(0,0) !important}#editor-panel{top:0;left:0;width:100%;height:100%;transform:translateX(-100%)}#music-panel{bottom:0;left:0;width:100%;height:auto;max-height:50vh;border-top:1px solid var(--border-color);transform:translateY(100%);padding:15px}#contribution-panel{top:0;right:0;width:400px;max-width:90vw;height:100%;transform:translateX(100%);padding:20px}#live-visitors-panel,#moment-vault-panel,#dashboard-panel{top:0;left:0;width:100%;height:100%;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center}#live-visitors-panel,#moment-vault-panel{transform:translateY(100%)}#dashboard-panel{transform:translateX(-100%)}#visualizer-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99;display:none;background-color:transparent}.visualizer-active #visualizer-canvas{display:block;pointer-events:none}.panel-close-btn{position:static;background:none;border:none;color:#00ff00;font-size:1.5rem;cursor:pointer;padding:0}.fab-container{position:fixed;z-index:1000;display:flex}.fab,.fab-container a{background:rgba(142,68,173,0.7);color:#00ff00;width:55px;height:55px;border-radius:50%;border:none;cursor:pointer;display:flex;justify-content:center;align-items:center;font-size:1.4rem;box-shadow:0 5px 15px rgba(0,0,0,.3);transition:all .3s ease;text-decoration:none}.fab:hover,.fab-container a:hover{background:var(--accent);transform:scale(1.1)}#fab-editor{top:20px;left:20px}#fab-music{top:50%;left:20px;transform:translateY(-50%)}#fab-alkitab{top:20px;right:20px}#fab-contribution{top:calc(50% + 70px);left:20px;transform:translateY(-50%)}#fab-visualizer{bottom:20px;left:50%;transform:translateX(-120%)}#fab-moment-vault{bottom:20px;left:50%;transform:translateX(0%)}#fab-live-visitors{bottom:90px;left:50%;transform:translateX(-50%);display:none}#fab-keyboard-toggle{bottom:20px;right:20px}#fab-dashboard-toggle{bottom:20px;left:20px}#live-visitors-panel .live-visitors-content,#moment-vault-panel .moment-vault-content,#dashboard-panel .dashboard-content-wrapper{width:100%;height:100%;max-width:1200px;background:var(--bg-panel);border-radius:15px;box-shadow:0 0 30px rgba(0,0,0,.5);overflow:hidden;display:flex;flex-direction:column;padding:20px}#visitor-list ul{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px}#visitor-history{flex-grow:1;overflow-y:auto;padding:0 20px}#visitor-history table{width:90%;border-collapse:collapse;font-size:.85em}#visitor-history th,#visitor-history td{border:1px solid var(--border-color);padding:8px;text-align:left}#visitor-history th{background-color:rgba(0,168,255,0.2);position:sticky;top:0}#moment-vault-gallery-container{flex-grow:1;overflow-y:auto;padding-right:10px}#moment-vault-gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:15px}#moment-upload-form input,#moment-upload-form textarea,#moment-upload-form button{margin-top:5px}.gallery-item{background:rgba(0,0,0,0.2);border:1px solid var(--border-color);border-radius:10px;padding:10px;display:flex;flex-direction:column;align-items:center;text-align:center;gap:8px;position:relative}.gallery-media{width:100%;height:120px;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:5px;background-color:#333}.gallery-media img,.gallery-media video,.gallery-media audio{width:90%;height:90%;object-fit:cover}.gallery-media .file-icon{font-size:3em;color:var(--text-secondary)}#video-player-widget{position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:999;width:150px;height:150px;border-radius:10px;overflow:hidden;box-shadow:0 5px 20px rgba(0,0,0,.4);border:2px solid var(--border-color);display:flex}#video-player-widget video{width:100%;height:100%;object-fit:cover}.social-links{position:fixed;top:50%;right:20px;transform:translateY(-50%);display:flex;flex-direction:column;gap:15px;z-index:999}.panel-header{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background:rgba(0,0,0,0.3);flex-shrink:0}.panel-title{font-weight:700;font-size:1.1em;margin-right:auto}.editor-toolbar{padding:0;margin:0 15px;display:flex;gap:10px;flex-wrap:wrap}.editor-toolbar button{background:var(--accent);color:var(--text-primary);border:none;padding:8px 12px;border-radius:5px;cursor:pointer;transition:background-color .2s}.editor-toolbar button:hover{background:var(--primary)}.editor-main{display:flex;flex-grow:1;gap:10px;padding:10px}.editor-code-area,.editor-preview-area{flex:1;border:1px solid var(--border-color);border-radius:5px;overflow:hidden}#unified-code-editor{width:100%;height:100%;background:rgba(0,0,0,0.3);color:var(--text-primary);border:none;padding:10px;resize:none;outline:none}#editor-preview{width:100%;height:100%;border:none;background:var(--light)}#video-player-widget .video-controls{position:absolute;bottom:0;left:0;width:100%;display:flex;justify-content:space-evenly;align-items:center;padding:5px 0;background:rgba(0,0,0,0.5);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);transition:opacity .3s ease;opacity:0}#video-player-widget:hover .video-controls{opacity:1}#video-player-widget .video-controls button{background:none;border:none;color:#fff;font-size:1rem;cursor:pointer;padding:5px}#moment-vault-panel h3{padding:10px 20px;border-radius:10px;background:rgba(0,0,0,0.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}#moment-upload-form{width:100%;max-width:600px}#moment-upload-form input,#moment-upload-form textarea{display:block;width:100%;margin-top:15px;padding:12px;background:rgba(0,0,0,0.4);border:1px solid var(--border-color);color:var(--text-primary);border-radius:8px}#moment-upload-form button{width:100%;padding:12px;background:var(--accent);border:none;color:#fff;font-size:1em;cursor:pointer;border-radius:8px;transition:background .3s ease}#moment-upload-form button:hover{background:var(--primary)}.grid-block-background video{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:-1}#block-4-3 .grid-block-background,#block-3-4 .grid-block-background{-webkit-filter:none;filter:none}#block-3-4 .grid-block-background{background-size:cover;background-position:center;background-repeat:no-repeat}#center-video-container{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1100;width:80vw;height:80vh;max-width:1200px;max-height:800px;background:rgba(0,0,0,0.9);border:2px solid var(--accent);border-radius:10px;display:none;justify-content:center;align-items:center;flex-direction:column;box-shadow:0 0 50px rgba(0,0,0,0.8)}#center-video-container.active{display:flex}#center-video-container video{width:95%;height:95%;object-fit:contain}#center-video-close{position:absolute;top:10px;right:10px;font-size:2rem;color:#fff;cursor:pointer;background:none;border:none;z-index:10}#bible-widget-container{width:100%;max-width:500px;height:auto;min-height:300px;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 15px rgba(0,0,0,0.5);overflow:hidden}#dashboard-content{height:100%;width:100%;padding:20px;text-align:left;color:var(--text-primary);overflow-y:auto}.dashboard-card{background:rgba(0,0,0,0.4);padding:15px;border-radius:10px;margin-bottom:15px;border:1px solid var(--border-color)}.dashboard-card h4{margin-top:0;color:var(--accent)}.dashboard-card p{margin-bottom:0;font-size:.9em}.screenshot-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(255,0,0,0.9);color:#fff;padding:20px;border-radius:10px;font-size:1.2em;z-index:9999;display:none;box-shadow:0 0 20px rgba(0,0,0,0.5)}#new-user-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;background:var(--bg-panel);color:var(--text-primary);border:1px solid var(--border-color);border-radius:10px;z-index:10000;padding:25px;box-shadow:0 10px 40px rgba(0,0,0,0.6);display:none;text-align:center}#new-user-popup h3{margin-top:0;color:var(--accent)}#new-user-popup p{margin-bottom:15px}#new-user-popup a{color:var(--accent)}#popup-close-btn{background:var(--primary);color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-top:10px;transition:background .2s}#popup-close-btn:hover{background:var(--accent)}.progress-bar-container{width:100%;background-color:rgba(0,0,0,0.4);border-radius:5px;margin-top:10px;overflow:hidden;border:1px solid var(--border-color)}.progress-bar{background-color:var(--accent);padding:4px 8px;text-align:right;color:#fff;font-size:.8em;font-weight:700;white-space:nowrap;transition:width .8s ease-in-out}.live-visitors-content{display:flex;flex-direction:column;height:100%}#mv-live-visitors-list-container{flex-shrink:0;max-height:35%;overflow-y:auto}#visitor-history{flex-grow:1;min-height:0;overflow-y:auto}#music-player-content{display:flex;flex-direction:column}.panel h3{font-size:clamp(1.1rem,2.5vw,1.5rem)}@media (max-width:768px){.fab,.fab-container a{width:50px;height:50px;font-size:1.2rem}#fab-editor,#fab-music,#fab-contribution,#fab-dashboard-toggle{left:15px}#fab-alkitab,#fab-keyboard-toggle{right:15px}#contribution-panel{width:100%;max-width:100%;height:100%;top:0;right:0;transform:translateX(100%)}.editor-main{flex-direction:column}}@media (min-width:1024px){#editor-panel{width:90%;height:90%;top:5%;left:5%;border-radius:15px;overflow:hidden;transform:translateX(-110%)}#dashboard-panel,#live-visitors-panel,#moment-vault-panel{width:80%;height:85%;top:7.5%;left:10%;border-radius:15px;overflow:hidden}#dashboard-panel{transform:translateX(-120%)}#live-visitors-panel,#moment-vault-panel{transform:translateY(120%)}#contribution-panel{width:450px;max-width:30vw}}</style></head><body><div id="new-user-popup"><h3>Selamat Datang</h3><p>Untuk pengalaman terbaik, kami merekomendasikan:</p><ul><li style="text-align:left;margin-bottom:10px">Gunakan aplikasi kami untuk fitur penuh: <a href="https://drive.google.com/file/d/11fQBWB9C1PjUQvb8b-IqHdNLS7YkFSFD/view?usp=drivesdk" target="_blank">Download di sini</a></li><li style="text-align:left;margin-bottom:10px">Putar layar Anda ke mode lanskap (landscape).</li></ul><p>Dengan melanjutkan, Anda setuju dengan <a href="#privacy" onclick="alert('Kebijakan Privasi: Kami mengumpulkan data anonim seperti ID browser dan alamat IP untuk analisis statistik pengunjung. Data ini tidak akan dibagikan dengan pihak ketiga.');">Kebijakan Privasi</a> kami.</p><button id="popup-close-btn">Mengerti</button></div><div class="screenshot-popup" id="screenshot-popup">Screenshot tidak diizinkan!</div><canvas id="visualizer-canvas"></canvas><audio id="matrix-sound" src="/dashboard/matrix-code.mp3" preload="auto"></audio><div id="main-viewport"><div id="grid-container"><div class="grid-block" id="block-1-1"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=1)"></div><div class="grid-block-content"><h1>Block (1,1)</h1></div></div><div class="grid-block" id="block-1-2"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=2)"></div><div class="grid-block-content"><h1>Block (1,2)</h1></div></div><div class="grid-block" id="block-1-3"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=3)"></div><div class="grid-block-content"><!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Informasi Cuaca & Angin</title><style>body{font-family:'Courier New',Courier,monospace;background-color:#000;color:#333;margin:0;padding:0;display:flex;flex-direction:column;align-items:center}.header{text-align:center;margin-bottom:30px}.header h1{color:#2c3e50}.container{display:flex;flex-wrap:wrap;justify-content:center;gap:30px;width:100%;max-width:1200px}.widget{background-color:#fff;border-radius:0;box-shadow:0 0 0 rgba(0,0,0,.1);padding:0;text-align:center;min-width:320px}.widget h2{margin-top:0;color:#3498db;border-bottom:0 solid #ecf0f1;padding-bottom:0;margin-bottom:0}.footer{margin-top:40px;font-size:.9em;color:#7f8c8d}</style></head><body><div class="header"><h1>Dashboard Cuaca Saat Ini</h1><p>Informasi cuaca dan peta arah angin real-time.</p></div><div class="container"><div class="widget"><h2>Cuaca Lokal (Jakarta)</h2><a class="weatherwidget-io" href="https://forecast7.com/en/n6d21106d82/jakarta/" data-label_1="JAKARTA" data-label_2="CUACA" data-theme="original">JAKARTA WEATHER</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs)}}(document,'script','weatherwidget-io-js')</script></div><div class="widget"><h2>Peta Arah Angin</h2><iframe width="600" height="450" src="https://embed.windy.com/embed2.html?lat=-2.495&lon=118.213&detailLat=-6.215&detailLon=106.827&width=600&height=450&zoom=5&level=surface&overlay=wind&product=ecmwf&menu=&message=true&marker=true&calendar=now&pressure=&type=map&location=coordinates&detail=true&metricWind=default&metricTemp=default&radarRange=-1" frameborder="0"></iframe></div></div><div class="footer"><p>&copy; 2024 Website Cuaca Anda</p></div></body></html></div></div><div class="grid-block" id="block-1-4"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=4)"></div><div class="grid-block-content"><h1>Block (1,4)</h1></div></div><div class="grid-block" id="block-1-5"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=5)"></div><div class="grid-block-content"><h1>Block (1,5)</h1></div></div><div class="grid-block" id="block-2-1"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=6)"></div><div class="grid-block-content"><h1>Block (2,1)</h1></div></div><div class="grid-block" id="block-2-2"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=7)"></div><div class="grid-block-content"><h1>Block (2,2)</h1></div></div><div class="grid-block" id="block-2-3"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=8)"></div><div class="grid-block-content"><h1>Block (2,3)</h1></div></div><div class="grid-block" id="block-2-4"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=9)"></div><div class="grid-block-content"><h1>Block (2,4)</h1></div></div><div class="grid-block" id="block-2-5"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=10)"></div><div class="grid-block-content"><h1>Block (2,5)</h1></div></div><div class="grid-block" id="block-3-1"><div class="grid-block-content"><h3 style="margin-bottom:20px">Peta Bintang</h3><iframe src="https://stellarium-web.org/" width="90%" height="80%" frameborder="0" style="border-radius:10px;border:none"></iframe></div></div><div class="grid-block" id="block-3-2"><div class="grid-block-content"><h3>Ayat Hari Ini (YouVersion)</h3><div id="bible-widget-container"><iframe src="https://www.bible.com/verse-of-the-day/TB" width="100%" height="100%" style="border:none"></iframe></div></div></div><div class="grid-block" id="block-center"><div class="grid-block-background" id="interactive-bg" style="background-image:url(/dashboard/wallpaper.png)"></div><div class="grid-block-content"><div class="central-message"><p>By <a href="/dashboard/secret.html" class="ezra-link">Ezra</a></p></div><div class="panel" id="contribution-panel-desktop" style="display:none"></div></div></div><div class="grid-block" id="block-3-4"><div class="grid-block-background" style="background-image:url('https://universalezra.netlify.app/moments/1751293320517-December 13, 2024 at 4.29 AM (1).jpg')"></div></div><div class="grid-block" id="block-3-5"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=15)"></div><div class="grid-block-content"><h1>Block (3,5)</h1></div></div><div class="grid-block" id="block-4-1"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=16)"></div><div class="grid-block-content"><h1>Block (4,1)</h1></div></div><div class="grid-block" id="block-4-2"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=17)"></div><div class="grid-block-content"><h1>Block (4,2)</h1></div></div><div class="grid-block" id="block-4-3"><div class="grid-block-background"><video autoplay loop muted playsinline><source src="/dashboard/bg.mp4" type="video/mp4"></video></div><div class="grid-block-content"></div></div><div class="grid-block" id="block-4-4"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=19)"></div><div class="grid-block-content"><h1>Block (4,4)</h1></div></div><div class="grid-block" id="block-4-5"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=20)"></div><div class="grid-block-content"><h1>Block (4,5)</h1></div></div><div class="grid-block" id="block-5-1"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=21)"></div><div class="grid-block-content"><h1>Block (5,1)</h1></div></div><div class="grid-block" id="block-5-2"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=22)"></div><div class="grid-block-content"><h1>Block (5,2)</h1></div></div><div class="grid-block" id="block-5-3"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=23)"></div><div class="grid-block-content"><h1>Block (5,3)</h1></div></div><div class="grid-block" id="block-5-4"><div class="grid-block-background" style="background-image:url(https://picsum.photos/1920/1080?random=24)"></div><div class="grid-block-content"><h1>Block (5,4)</h1></div></div><div class="grid-block" id="block-5-5"><div class="grid-block-content"><h3>Spaceship 3D Model</h3><iframe title="Executor-Class Star Dreadnought" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/442c548d94744641ba279ae94b5f45ec/embed" style="width:90%;height:90%;border:none;border-radius:12px"></iframe></div></div></div></div><div class="fab-container" id="fab-editor"><button class="fab" data-panel="editor-panel" title="Code Editor"><i class="fas fa-code"></i></button></div><div class="fab-container" id="fab-music"><button class="fab" data-panel="music-panel" title="Music Player"><i class="fas fa-music"></i></button></div><div class="fab-container" id="fab-contribution"><button class="fab" data-panel="contribution-panel" title="Leave a Message"><i class="fas fa-feather-alt"></i></button></div><div class="fab-container" id="fab-alkitab"><a class="fab" href="https://alkitab.me/in-tb/Matius/5/13" target="_blank" title="Alkitab"><i class="fas fa-book"></i></a></div><div class="fab-container" id="fab-visualizer"><button class="fab" data-panel="visualizer" title="Visualizer"><i class="fas fa-expand"></i></button></div><div class="fab-container" id="fab-moment-vault"><button class="fab" data-panel="moment-vault-panel" title="Moment Vault"><i class="fas fa-archive"></i></button></div><div class="fab-container" id="fab-live-visitors"><button class="fab" data-panel="live-visitors-panel" title="Live Visitors"><i class="fas fa-eye"></i></button></div><div class="fab-container" id="fab-keyboard-toggle"><button class="fab" title="Enter Password"><i class="fas fa-keyboard"></i></button></div><div class="fab-container" id="fab-dashboard-toggle"><button class="fab" data-panel="dashboard-panel" title="Target Dashboard"><i class="fas fa-bullseye"></i></button></div><div id="video-player-widget"><video id="widget-video" loop src="/dashboard/video.mp4"></video><div class="video-controls"><button id="video-play-pause"><i class="fas fa-play"></i></button><button id="video-mute"><i class="fas fa-volume-up"></i></button></div></div><div class="social-links"><a href="https://wa.me/6283844959380" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a><a href="https://www.instagram.com/elvizill/?utm_source=ig_web_button_share_sheet" target="_blank" title=" My Instagram Girl"><i class="fab fa-instagram"></i></a></div><div class="panel" id="editor-panel"><div class="panel-header"><span class="panel-title">Code Editor</span><div class="editor-toolbar"><button id="editor-run"><i class="fas fa-play"></i> Run</button><button id="editor-save"><i class="fas fa-save"></i> Save</button><button id="editor-load"><i class="fas fa-folder-open"></i> Load</button><button id="editor-new"><i class="fas fa-file"></i> New</button><button id="editor-undo"><i class="fas fa-undo"></i> Undo</button><button id="editor-redo"><span><i class="fas fa-redo"></i> Redo</span></button></div><button class="panel-close-btn" data-panel="editor-panel"><i class="fas fa-times"></i></button></div><div class="editor-main"><div class="editor-code-area"><textarea id="unified-code-editor" spellcheck="false"></textarea></div><div class="editor-preview-area"><iframe id="editor-preview"></iframe></div></div></div><div class="panel" id="music-panel"><button class="panel-close-btn" data-panel="music-panel"><i class="fas fa-times"></i></button><div id="music-player-content"><h5 id="song-title">Select a song</h5><audio id="audio-player" controls loop style="width:100%"></audio><div id="playlist" style="max-height:20vh;overflow-y:auto;margin-top:10px"></div></div></div><div class="panel" id="contribution-panel"><button class="panel-close-btn" data-panel="contribution-panel"><i class="fas fa-times"></i></button><div id="contribution-content" style="display:flex;flex-direction:column;height:100%"><h3>Leave a Message</h3><div id="contribution-display" style="flex-grow:1;overflow-y:auto;padding-right:10px;margin-bottom:15px"><p>Loading</p></div><form id="contribution-form"><textarea id="contribution-text" placeholder="Your message" required style="width:100%;min-height:80px;background:rgba(0,0,0,0.2);color:var(--text-primary);border:1px solid var(--border-color);border-radius:5px;padding:10px"></textarea><div style="display:flex;justify-content:flex-end;align-items:center;margin-top:10px"><button type="submit" class="fab" style="position:static;width:45px;height:45px;font-size:1.1rem"><i class="fas fa-paper-plane"></i></button></div><p id="contribution-status" style="font-size:.9em;text-align:center;margin-top:10px"></p></form></div></div><div class="panel" id="live-visitors-panel"><button class="panel-close-btn" data-panel="live-visitors-panel"><i class="fas fa-times"></i></button><div class="live-visitors-content"><h3>Live Visitors</h3><div id="mv-live-visitors-list-container" style="padding-right:10px"><p style="text-align:center;color:var(--text-secondary)">visitor</p><ul id="visitor-list" style="list-style:none;padding:0;margin:0"></ul></div><div id="visitor-history"><p style="text-align:center;color:var(--text-secondary)">Loading history</p></div><div style="margin-top:15px;text-align:center;font-size:.85em;color:var(--text-secondary);flex-shrink:0">updated: <span id="last-updated-time">N/A</span></div></div></div><div class="panel" id="moment-vault-panel"><button class="panel-close-btn" data-panel="moment-vault-panel"><i class="fas fa-times"></i></button><div class="moment-vault-content" style="display:flex;flex-direction:column;height:100%"><h3>Share your moment here</h3><div id="moment-vault-gallery-container" style="flex-grow:1;overflow-y:auto;padding-right:10px;margin-bottom:15px"><p style="text-align:center;color:var(--text-secondary)">Memories</p><div id="moment-vault-gallery"></div></div><form id="moment-upload-form"><input type="text" id="moment-title" placeholder="Title" required /><textarea id="moment-description" placeholder="Describe" rows="3"></textarea><input type="file" id="moment-file" accept="*/*" required/><button type="submit">Upload</button><p id="moment-upload-status" style="font-size:.9em;text-align:center;margin-top:10px"></p></form></div></div><div class="panel" id="dashboard-panel"><button class="panel-close-btn" data-panel="dashboard-panel"><i class="fas fa-times"></i></button><div class="dashboard-content-wrapper"><div id="dashboard-content"><div id="website-age-display" style="text-align:center;font-size:1.2em;margin-bottom:20px;color:var(--text-primary)"></div><h3>Dashboard</h3><p style="text-align:center;color:var(--text-secondary)">Ini adalah tampilan statis dari target-target masa depan (Ezra team's).</p><div class="dashboard-card"><h4>Proyek 1</h4><p>Membeli pertapakan di kota Subulussalam plus bangunannya di sekitar kantor Dinas sosial</p><div class="progress-bar-container"><div class="progress-bar" style="width:25%">25%</div></div></div><div class="dashboard-card"><h4>Proyek 2</h4><p>Membeli kebun sawit di dekat jalan setelah unit usahaku mencapai 3</p><div class="progress-bar-container"><div class="progress-bar" style="width:45%">45%</div></div></div><div class="dashboard-card"><h4>Proyek 3</h4><p>Menjadi pelayan Tuhan Yesus yang sejati</p><div class="progress-bar-container"><div class="progress-bar" style="width:15%">15%</div></div></div><div class="dashboard-card"><h4>proyek 4</h4><p>Mecapai dan mendapatkan semua yang sudah di skenario kan oleh Tuhan dengan kehendaknya</p><div class="progress-bar-container"><div class="progress-bar" style="width:70%">70%</div></div></div><div class="dashboard-card"><h4>Proyek Tambahan 5? : VF</h4><div class="progress-bar-container"><div class="progress-bar" style="width:90%">90%</div></div></div><div class="dashboard-card"><div class="progress-bar-container"><div class="progress-bar" style="width:5%">5%</div></div></div></div></div></div><div id="center-video-container"><button id="center-video-close"><i class="fas fa-times"></i></button><video id="center-video-player" loop muted playsinline></video></div><script>const CONTRIBUTIONS_WORKER_URL='https://contributions-workerjs.ezvvel.workers.dev/',MOMENT_VAULT_WORKER_URL='https://moment-vault-worker-url.universalezra.workers.dev',GITHUB_REPO_OWNER='universalezra',GITHUB_REPO_NAME='universalezra',GITHUB_TOKEN_WORKER_URL='https://github-token-worker-url.universalezra.workers.dev';let liveVisitorRefreshInterval,isEzraLoggedIn=!1;const LIVE_VISITORS_WORKER_URL='https://live-visitors.ezvvel.workers.dev/',VISITOR_HISTORY_WORKER_URL='https://visitor-history.universalezra.workers.dev/',VISITOR_HISTORY_EXPIRY_DAYS=7,REFRESH_INTERVAL_MS=5e3,LIVE_VISITORS_PASSWORD='💔',MOMENT_VAULT_PASSWORD='vmoments',CENTER_VIDEO_PASSWORD='elvy';let isVisualizerActive=!1,isElviModeActive=!1;function hideUIElements(){document.querySelectorAll(".fab-container, #video-player-widget, .social-links").forEach(e=>{e.style.display="none"})}function showUIElements(){document.querySelectorAll(".fab-container, #video-player-widget, .social-links").forEach(e=>{"fab-live-visitors"===e.id&&"none"===e.style.display&&"true"===e.getAttribute("data-unlocked")||(e.style.display="flex")})}function updateUIVisibility(){isElviModeActive&&(1===currentY&&2===currentX?hideUIElements():showUIElements())}let visualizerCanvas,audioContext,analyser,source,frequencyData,bufferLength,scene,camera,renderer,icosahedron,particles3D,frequencyBarsGroup,lastBassLevel=0;const BASS_BEAT_THRESHOLD=1.4,PARTICLE_COUNT=500,FREQ_RANGE_START_HZ=20,FREQ_RANGE_END_HZ=1024;let gridContainer,currentX=2,currentY=2,isDragging=!1,startX=0,startY=0;const SWIPE_THRESHOLD=50;function enterFullscreen(){document.fullscreenElement||document.documentElement.requestFullscreen().catch(e=>{console.warn(`Gagal masuk mode fullscreen: ${e.message}`)})}function exitFullscreen(){document.fullscreenElement&&document.exitFullscreen()}function initSwipeGestures(){const e=document.getElementById("matrix-sound"),t=(t,a)=>{const n=currentX,o=currentY;currentX=Math.min(4,Math.max(0,currentX+t)),currentY=Math.min(4,Math.max(0,currentY+a)),n===currentX&&o===currentY||(gridContainer.style.transform=`translate3d(-${100*currentX}vw, -${100*currentY}vh, 0)`,console.log(`Grid moved to block (${currentX+1}, ${currentY+1}). Playing sound.`),e.currentTime=0,e.play().catch(e=>{console.error("Audio play failed:",e)})),updateUIVisibility(),isElviModeActive&&(1===currentY&&2===currentX?enterFullscreen():exitFullscreen())},a=e=>{isDragging=!0,startX=e.clientX||e.touches[0].clientX,startY=e.clientY||e.touches[0].clientY};document.addEventListener("DOMContentLoaded",()=>{gridContainer=document.getElementById("grid-container"),initPanelControls(),initVideoPlayer(),initEditor(),initMusicPlayer(),initWebsiteAgeDisplay(),trackVisitor(),initVisualizer(),initSwipeGestures(),initPasswordFeature(),initSecurityFeatures(),checkFirstVisit()}),document.addEventListener("mousedown",a),document.addEventListener("mouseup",e=>{if(!isDragging)return;const n=e.clientX||e.changedTouches[0].clientX,o=e.clientY||e.changedTouches[0].clientY,r=n-startX,i=o-startY;isDragging=!1,Math.abs(r)>Math.abs(i)&&Math.abs(r)>50?t(r>0?-1:1,0):Math.abs(i)>Math.abs(r)&&Math.abs(i)>50&&t(0,i>0?-1:1)}),document.addEventListener("touchstart",a),document.addEventListener("touchend",e=>{if(!isDragging)return;const n=e.clientX||e.changedTouches[0].clientX,o=e.clientY||e.changedTouches[0].clientY,r=n-startX,i=o-startY;isDragging=!1,Math.abs(r)>Math.abs(i)&&Math.abs(r)>50?t(r>0?-1:1,0):Math.abs(i)>Math.abs(r)&&Math.abs(i)>50&&t(0,i>0?-1:1)})}function initPanelControls(){document.querySelectorAll("[data-panel]").forEach(e=>{e.addEventListener("click",t=>{const a=e.getAttribute("data-panel");if("visualizer"===a)return void toggleVisualizerOverlay();const n=document.getElementById(a);if("live-visitors-panel"===a){const e=prompt("Please enter the password to unlock this feature:");e===LIVE_VISITORS_PASSWORD?(isEzraLoggedIn=!0,n.classList.toggle("active"),n.classList.contains("active")?(fetchLiveVisitors(),fetchVisitorHistory(),liveVisitorRefreshInterval=setInterval(fetchLiveVisitors,5e3)):(clearInterval(liveVisitorRefreshInterval),document.getElementById("visitor-list").innerHTML="",document.getElementById("visitor-history").innerHTML="")):alert("Incorrect or blank password!")}else n.classList.toggle("active"),"contribution-panel"===a&&n.classList.contains("active")?fetchContributions():"moment-vault-panel"===a&&(n.classList.contains("active")?fetchMomentVaultGallery():document.getElementById("moment-vault-gallery").innerHTML=""),document.querySelectorAll(".panel").forEach(e=>{e.id!==a&&(e.classList.remove("active"),"live-visitors-panel"===e.id&&(clearInterval(liveVisitorRefreshInterval),document.getElementById("visitor-list").innerHTML="",document.getElementById("visitor-history").innerHTML="",isEzraLoggedIn=!1),"moment-vault-panel"===e.id&&(document.getElementById("moment-vault-gallery").innerHTML=""))})})}),document.querySelectorAll(".panel-close-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-panel"),a=document.getElementById(t);a.classList.remove("active"),"live-visitors-panel"===t?(clearInterval(liveVisitorRefreshInterval),document.getElementById("visitor-list").innerHTML="",document.getElementById("visitor-history").innerHTML="",isEzraLoggedIn=!1):"moment-vault-panel"===t&&(document.getElementById("moment-vault-gallery").innerHTML="")})})}function initVideoPlayer(){const e=document.getElementById("widget-video"),t=document.getElementById("video-play-pause"),a=document.getElementById("video-mute");t.addEventListener("click",()=>{e.paused?(e.play(),t.innerHTML='<i class="fas fa-pause"></i>'):(e.pause(),t.innerHTML='<i class="fas fa-play"></i>')}),a.addEventListener("click",()=>{e.muted=!e.muted,a.innerHTML=e.muted?'<i class="fas fa-volume-mute"></i>':'<i class="fas fa-volume-up"></i>'})}function initMusicPlayer(){const e=document.getElementById("audio-player"),t=document.getElementById("playlist"),a=document.getElementById("song-title"),n=[{name:"On And On",url:"/dashboard/On-And-On.mp3"},{name:"Where We Are",url:"/dashboard/Where-We-Are.mp3"},{name:"Sekuat Hatimu",url:"/dashboard/Sekuat Hatimu.mp3"}];n.forEach((n,o)=>{const r=document.createElement("div");r.textContent=n.name,r.style.cursor="pointer",r.style.padding="8px",r.onclick=()=>{e.src=n.url,a.textContent=n.name,e.play()},t.appendChild(r)})}function initEditor(){const e=document.getElementById("unified-code-editor"),t=document.getElementById("editor-preview"),a=document.getElementById("editor-run"),n=document.getElementById("editor-save"),o=document.getElementById("editor-load"),r=document.getElementById("editor-new"),i=document.getElementById("editor-undo"),s=document.getElementById("editor-redo");let l=[""],d=0;const c=()=>{const a=e.value;a!==l[d]&&(d<l.length-1&&(l=l.slice(0,d+1)),l.push(a),d=l.length-1)},p=()=>{const a=e.value,n=a.match(/<body>([\s\S]*?)<\/body>/i),o=a.match(/<style>([\s\S]*?)<\/style>/i),r=a.match(/<script>([\s\S]*?)<\/script>/i),i=n?n[1]:a,s=o?o[1]:"",l=r?r[1]:"";t.srcdoc=`<!DOCTYPE html><html><head><style>${s}</style></head><body>${i}<script>${l}<\/script></body></html>`},u=()=>{localStorage.setItem("unified_editor_code",e.value),console.log("Code saved successfully")},m=()=>{e.value=localStorage.getItem("unified_editor_code")||'<!DOCTYPE html><html><head><title>My trial</title><style>body {font-family: sans-serif;background-color: #000000;color: #259;text-align: center;padding-top: 50px;}h1 {color: var(--primary);}</style></head><body><h1>Hello Editor</h1><p id="message">Code Here</p><script>document.getElementById(\'message\').onclick = function() {console.log(\'Paragraph clicked!\');};<\/script></body></html>',p(),l=[e.value],d=0},g=()=>{e.value='<!DOCTYPE html><html><head><title>New trial</title><style>body {font-family: Arial, sans-serif;background-color: #000000;color: #abb2bf;display: flex;justify-content: center;align-items: center;min-height: 100vh;margin: 0;}h1 {color: #61dafb;}</style></head><body><h1>Start Coding Here!l</h1><script>console.log("New document loaded.");<\/script></body></html>',p(),l=[e.value],d=0},h=()=>{d>0&&(d--,e.value=l[d],p())},y=()=>{d<l.length-1&&(d++,e.value=l[d],p())};a.addEventListener("click",p),n.addEventListener("click",u),o.addEventListener("click",m),r.addEventListener("click",g),i.addEventListener("click",h),s.addEventListener("click",y),e.addEventListener("input",c),m()}async function fetchContributions(){const e=document.getElementById("contribution-display");e.innerHTML="<p>Loading</p>";try{const t=await fetch(CONTRIBUTIONS_WORKER_URL),a=await t.json();a&&a.length>0?e.innerHTML=a.reverse().map(e=>`<div style="background:rgba(0,0,0,0.2);padding:10px;border-radius:5px;margin-bottom:10px;"><p style="margin:0;">${e.text}</p><small style="color:var(--text-secondary);">${new Date(e.timestamp).toLocaleString()}</small></div>`).join(""):e.innerHTML="<p>Be the first to leave a message</p>"}catch(t){e.innerHTML='<p style="color:var(--danger);">Could not load contributions.</p>'}}async function fetchLiveVisitors(){const e=document.getElementById("visitor-list"),t=document.getElementById("last-updated-time");e.innerHTML.trim()&&!e.innerHTML.includes("Loading visitors")||(e.innerHTML='<li style="text-align: center; color: var(--text-secondary);">Loading</li>');try{const a=await fetch(LIVE_VISITORS_WORKER_URL+"?get_visitors=true");if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();n&&n.length>0?e.innerHTML=n.map(e=>{const t=(new Date(e.timestamp)).toLocaleString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"});return`<li><strong>ID:</strong> <span>${e.browserId.substring(0,10)}</span><br><strong>IP:</strong> <span>${e.ip||"N/A"}</span><br><strong>Waktu:</strong> <span>${t}</span></li>`}).join(""):e.innerHTML='<li style="text-align: center; color: var(--text-secondary);">No online</li>',t.textContent=(new Date).toLocaleTimeString("id-ID")}catch(a){console.error("Error fetching live visitors:",a),e.innerHTML='<li style="text-align: center; color: var(--danger);">Failed</li>',t.textContent="Error"}}async function fetchVisitorHistory(){const e=document.getElementById("visitor-history");e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">Loading history</p>';try{const t=await fetch(VISITOR_HISTORY_WORKER_URL+"?get_history=true");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let a=await t.json();if(a&&a.length>0){const t=a.reduce((e,t)=>(e[t.browserId]=(e[t.browserId]||0)+1,e),{}),n=a.sort((e,t)=>new Date(b.timestamp)-new Date(a.timestamp)).map(e=>{const a=(new Date(e.timestamp)).toLocaleString("id-ID",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return`<tr><td>${a}</td><td>${e.browserId.substring(0,10)}...</td><td>${e.ip||"N/A"}</td><td>${e.referrer||"Direct"}</td><td>${t[e.browserId]||1}</td></tr>`}).join("");e.innerHTML="<table><thead><tr><th>Timestamp</th><th>Browser ID</th><th>IP</th><th>Referral</th><th>Total Kunjungan</th></tr></thead><tbody>"+n+"</tbody></table>"}else e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">No visitor history yet</p>'}catch(t){console.error("Failed to load visitor history:",t),e.innerHTML='<p style="text-align: center; color: var(--danger);">Sistem lagi crash</p>'}}function getBrowserId(){let e=localStorage.getItem("unique_browser_id");return e||(e="browser_"+Math.random().toString(36).substr(2,9)+Date.now(),localStorage.setItem("unique_browser_id",e)),e}async function trackVisitor(){try{const e=getBrowserId();let t="unknown";const a=document.referrer||"direct";try{const e=await fetch("https://api.ipify.org?format=json"),a=await e.json();t=a.ip}catch(e){console.warn("Could not fetch IP address:",e)}const n={browserId:e,ip:t,userAgent:navigator.userAgent,timestamp:(new Date).toISOString(),referrer:a};fetch(LIVE_VISITORS_WORKER_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch(e=>{console.error("Error sending to live visitors worker:",e)}),fetch(VISITOR_HISTORY_WORKER_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).catch(e=>{console.error("Error sending to visitor history worker:",e)})}catch(e){console.error("Error in trackVisitor:",e)}}async function fetchMomentVaultGallery(){const e=document.getElementById("moment-vault-gallery");e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">Loading</p>';try{const t=await fetch(MOMENT_VAULT_WORKER_URL+"?get_gallery=true");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();if(a&&a.length>0)a.sort((e,t)=>new Date(b.timestamp)-new Date(a.timestamp)),e.innerHTML=a.map(e=>{let t="",a=e.fileUrl.split(".").pop().toLowerCase(),n="";e.fileType&&e.fileType.startsWith("image/")?t=`<img src="${e.fileUrl}" alt="${e.title}">`:e.fileType&&e.fileType.startsWith("video/")?t=`<video src="${e.fileUrl}" controls></video>`:e.fileType&&e.fileType.startsWith("audio/")?t=`<audio src="${e.fileUrl}" controls></audio>`:("pdf"===a?n="fa-file-pdf":a.startsWith("doc")?n="fa-file-word":"txt"===a?n="fa-file-alt":n="fa-file",t=`<i class="fas ${n} file-icon"></i>`);const o=(new Date(e.timestamp)).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return`<div class="gallery-item" data-id="${e.id}"><div class="gallery-media">${t}</div><strong>${e.title}</strong><p class="item-text">${e.description}</p><small class="item-date">${o}</small><div class="item-actions"><button class="edit-moment-btn"><i class="fas fa-edit"></i></button><button class="delete-moment-btn"><i class="fas fa-trash-alt"></i></button></div></div>`}).join(""),e.querySelectorAll(".edit-moment-btn").forEach(e=>{e.addEventListener("click",t=>{const n=t.target.closest(".gallery-item").dataset.id;editMoment(n,a)})}),e.querySelectorAll(".delete-moment-btn").forEach(t=>{t.addEventListener("click",e=>{const a=e.target.closest(".gallery-item").dataset.id;deleteMoment(a)})});else e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">No uploaded yet</p>'}catch(t){console.error("Error fetching Moment Vault gallery:",t),e.innerHTML='<p style="text-align: center; color: var(--danger);">Failed to load gallery items.</p>'}}async function uploadMoment(e){e.preventDefault();const t=document.getElementById("moment-upload-status");t.textContent="Uploading...",t.style.color="var(--text-secondary)";const a=document.getElementById("moment-title").value,n=document.getElementById("moment-description").value,o=document.getElementById("moment-file"),r=o.files[0];if(!r||!a)return t.textContent="Title and file are required!",void(t.style.color="var(--danger)");let i;try{const e=await fetch(GITHUB_TOKEN_WORKER_URL);if(!e.ok)throw new Error("Failed to fetch GitHub token");const t=await e.json();if(i=t.token,!i)throw new Error("GitHub token not found in response")}catch(e){return console.error("Error getting GitHub token:",e),t.textContent=`Error: Could not get GitHub token. ${e.message}`,void(t.style.color="var(--danger)")}try{const o=`moments/${Date.now()}-${r.name}`,s=await readFileAsBase64(r),l=`https://api.github.com/repos/${GITHUB_REPO_OWNER}/${GITHUB_REPO_NAME}/contents/${o}`,d=await fetch(l,{method:"PUT",headers:{Authorization:`token ${i}`,"Content-Type":"application/json"},body:JSON.stringify({message:`Upload moment: ${a}`,content:s,branch:"main"})});if(!d.ok){const e=await d.text();throw new Error(`GitHub upload failed: ${d.status} - ${e}`)}const c=await d.json(),p=c.content.download_url,u={id:"moment_"+Math.random().toString(36).substr(2,9)+Date.now(),title:a,description:n,fileUrl:p,fileType:r.type,timestamp:(new Date).toISOString()};if(!(await fetch(MOMENT_VAULT_WORKER_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw new Error("Failed to save moment metadata to KV");t.textContent="Moment uploaded successfully!",t.style.color="var(--success)",e.target.reset(),fetchMomentVaultGallery()}catch(o){console.error("Error uploading moment:",o),t.textContent=`Error uploading moment: ${o.message}`,t.style.color="var(--danger)"}}function readFileAsBase64(e){return new Promise((t,a)=>{const n=new FileReader;n.onload=()=>{const e=n.result.split(",")[1];t(e)},n.onerror=e=>a(e),n.readAsDataURL(e)})}async function editMoment(e,t){const a=prompt("Masukkan password untuk mengedit:");if(a!==MOMENT_VAULT_PASSWORD)return void alert("Password salah!");const n=t.find(t=>t.id===e);if(!n)return;const o=prompt("Edit Title:",n.title);if(null===o)return;const r=prompt("Edit Description:",n.description);if(null===r)return;const i=document.getElementById("moment-upload-status");i.textContent="Updating moment...",i.style.color="var(--text-secondary)";try{const t={id:e,title:o,description:r,fileUrl:n.fileUrl,fileType:n.fileType,timestamp:n.timestamp};if(!(await fetch(MOMENT_VAULT_WORKER_URL,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to update moment metadata");i.textContent="Moment updated successfully!",i.style.color="var(--success)",fetchMomentVaultGallery()}catch(s){console.error("Error updating moment:",s),i.textContent=`Error updating moment: ${s.message}`,i.style.color="var(--danger)"}}async function deleteMoment(e){const t=prompt("Masukkan password untuk menghapus:");if(t!==MOMENT_VAULT_PASSWORD)return void alert("Password salah!");if(!confirm("Are you sure you want to delete this moment? This action cannot be undone."))return;const a=document.getElementById("moment-upload-status");a.textContent="Deleting moment...",a.style.color="var(--text-secondary)";try{let t;try{const e=await fetch(GITHUB_TOKEN_WORKER_URL);if(!e.ok)throw new Error("Failed to fetch GitHub token");const a=await e.json();if(t=a.token,!t)throw new Error("GitHub token not found in response")}catch(e){return console.error("Error getting GitHub token for delete:",e),a.textContent=`Error: Could not get GitHub token for deletion. ${e.message}`,void(a.style.color="var(--danger)")}const n=await fetch(MOMENT_VAULT_WORKER_URL+"?get_gallery=true");if(!n.ok)throw new Error("Failed to fetch gallery to find file path");const o=(await n.json()).find(t=>t.id===e);if(!o||!o.fileUrl)throw new Error("Moment or its file URL not found.");let r;const i=`https://raw.githubusercontent.com/${GITHUB_REPO_OWNER}/${GITHUB_REPO_NAME}/main/`;o.fileUrl.startsWith(i)?r=o.fileUrl.substring(i.length):(console.warn("Unexpected file URL format, attempting fallback path extraction:",o.fileUrl),r=`moments/${o.fileUrl.split("/").pop()}`);const s=`https://api.github.com/repos/${GITHUB_REPO_OWNER}/${GITHUB_REPO_NAME}/contents/${r}`,l=await fetch(s,{headers:{Authorization:`token ${t}`,Accept:"application/vnd.github.v3+json"}});if(!l.ok){const e=await l.text();throw new Error(`Failed to get file SHA from GitHub: ${l.status} - ${e}`)}const d=(await l.json()).sha,c=`https://api.github.com/repos/${GITHUB_REPO_OWNER}/${GITHUB_REPO_NAME}/contents/${r}`,p=await fetch(c,{method:"DELETE",headers:{Authorization:`token ${t}`,"Content-Type":"application/json"},body:JSON.stringify({message:`Delete moment: ${o.title}`,sha:d,branch:"main"})});if(!p.ok){const e=await p.text();throw new Error(`GitHub deletion failed: ${p.status} - ${e}`)}if(!(await fetch(MOMENT_VAULT_WORKER_URL+`?delete_moment_id=${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete moment metadata");a.textContent="Moment deleted successfully!",a.style.color="var(--success)",fetchMomentVaultGallery()}catch(u){console.error("Error deleting moment:",u),a.textContent=`Error deleting moment: ${u.message}`,a.style.color="var(--danger)"}}function initVisualizer(){visualizerCanvas=document.getElementById("visualizer-canvas"),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),camera.position.z=5,renderer=new THREE.WebGLRenderer({canvas:visualizerCanvas,alpha:!0,antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight);const e=new THREE.IcosahedronGeometry(1,1),t=[];e.attributes.position.count;const a=new THREE.MeshBasicMaterial({vertexColors:!0,wireframe:!0});icosahedron=new THREE.Mesh(e,a),scene.add(icosahedron),frequencyBarsGroup=new THREE.Group,scene.add(frequencyBarsGroup);const n=new THREE.BufferGeometry,o=new THREE.PointsMaterial({size:.05,vertexColors:!0}),r=[],i=[];const s=new THREE.Color;for(let l=0;l<500;l++)r.push(15*(Math.random()-.5),15*(Math.random()-.5),15*(Math.random()-.5)),s.setHSL(Math.random(),1,.5),i.push(s.r,s.g,s.b);n.setAttribute("position",new THREE.Float32BufferAttribute(r,3)),n.setAttribute("color",new THREE.Float32BufferAttribute(i,3)),particles3D=new THREE.Points(n,o),scene.add(particles3D),window.addEventListener("resize",onWindowResize,!1)}function createFrequencyBars(e){for(;frequencyBarsGroup.children.length>0;){const e=frequencyBarsGroup.children[0];frequencyBarsGroup.remove(e)}const t=e.context.sampleRate,a=e.fftSize,n=t/a,o=Math.ceil(20/n),r=Math.floor(1024/n),i=r-o+1;for(let s=0;s<i;s++){const e=.1,t=.02,a=new THREE.PlaneGeometry(t,e),n=.6+.3*(s/i),o=new THREE.Color().setHSL(n,.8,.6),r=new THREE.MeshBasicMaterial({color:o}),l=new THREE.Mesh(a,r),d=s/i*Math.PI*2,c=new THREE.Object3D;c.position.x=2*Math.cos(d),c.position.y=2*Math.sin(d),c.rotation.z=d+Math.PI/2,l.position.y=e/2,c.add(l),frequencyBarsGroup.add(c)}}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function setupAudioVisualizer(){const e=document.getElementById("audio-player");return e.src?(audioContext||(audioContext=new(window.AudioContext||window.webkitAudioContext),source=audioContext.createMediaElementSource(e),analyser=audioContext.createAnalyser(),source.connect(analyser),analyser.connect(audioContext.destination),analyser.fftSize=8192,analyser.minDecibels=-90,analyser.maxDecibels=-10,analyser.smoothingTimeConstant=.85,bufferLength=analyser.frequencyBinCount,frequencyData=new Uint8Array(bufferLength),createFrequencyBars(analyser)),!0):(alert("Pilih lagu terlebih dahulu"),!1)}function drawVisualizer(){if(!isVisualizerActive)return;requestAnimationFrame(drawVisualizer),analyser.getByteFrequencyData(frequencyData);const e=analyser.context.sampleRate/analyser.fftSize,t=Math.ceil(20/e);frequencyBarsGroup.children.forEach((a,n)=>{const o=a.children[0],r=t+n,i=frequencyData[r]/255,s=Math.max(.05,3.5*i);o.scale.y=s}),frequencyBarsGroup.rotation.z-=.001;const a=frequencyData.slice(0,Math.floor(bufferLength/4)),n=a.reduce((e,t)=>e+t,0)/a.length,o=frequencyData.slice(0,10).reduce((e,t)=>e+t,0)/10,r=1+.8*(n/255);if(icosahedron.scale.set(r,r,r),icosahedron.rotation.x+=.002,icosahedron.rotation.y+=.003,o>1.4*lastBassLevel&&o>60){const e=particles3D.geometry.attributes.color.array,t=new THREE.Color;for(let a=0;a<500;a++)t.setHSL(Math.random(),1,.5),e[3*a]=t.r,e[3*a+1]=t.g,e[3*a+2]=t.b;particles3D.geometry.attributes.color.needsUpdate=!0}lastBassLevel=o,particles3D.rotation.y+=5e-4,renderer.render(scene,camera)}function toggleVisualizerOverlay(){const e=document.body;isVisualizerActive?(isVisualizerActive=!1,e.classList.remove("visualizer-active"),toggleFullscreen()):setupAudioVisualizer()&&(isVisualizerActive=!0,e.classList.add("visualizer-active"),drawVisualizer(),toggleFullscreen())}function toggleFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.log(`Error when system attempting to enable fullscreen: ${e.message}`)})}function initPasswordFeature(){const e=document.getElementById("fab-keyboard-toggle"),t=document.getElementById("fab-live-visitors"),a=document.getElementById("center-video-container"),n=document.getElementById("center-video-player"),o=document.getElementById("center-video-close"),r={mylove:()=>{t.style.display="flex",t.setAttribute("data-unlocked","true")},elvy:()=>{a.classList.add("active"),n.src="/dashboard/stiker.mp4",n.play()},elvi:()=>{isElviModeActive=!0;const e=document.getElementById("block-2-3");if(e){const t=e.querySelector(".grid-block-background");t&&(t.style.background="url('/dashboard/elvi.jpg') center center / cover no-repeat",t.style.filter="none",t.style.webkitFilter="none");const a=e.querySelector(".grid-block-content");a&&(a.style.display="none")}updateUIVisibility(),1===currentY&&2===currentX&&enterFullscreen()}};e.addEventListener("click",()=>{const t=prompt("Please enter the password:");t&&r[t]?r[t]():null!==t&&alert("Incorrect password!")}),o.addEventListener("click",()=>{n.pause(),n.src="",a.classList.remove("active")})}function initSecurityFeatures(){document.addEventListener("contextmenu",e=>e.preventDefault()),document.addEventListener("copy",e=>e.preventDefault()),document.addEventListener("cut",e=>e.preventDefault()),window.addEventListener("keyup",e=>{if("PrintScreen"===e.key){const e=document.getElementById("screenshot-popup");e.style.display="block",setTimeout(()=>{e.style.display="none"},3e3)}})}function checkFirstVisit(){const e=localStorage.getItem("hasVisitedWebsite"),t=getBrowserId();if(e)console.log(`Welcome back ID: ${t}`);else{const e=document.getElementById("new-user-popup"),a=document.getElementById("popup-close-btn");e.style.display="block",console.log(`Welcome, new visitor Browser ID: ${t}`),console.log("For the best experience, please use our app: https://drive.google.com/file/d/11fQBWB9C1PjUQvb8b-IqHdNLS7YkFSFD/view?usp=drivesdk and switch to landscape mode."),console.log("Privacy Policy: We collect anonymous data like browser ID and IP address for statistical analysis. This data will not be shared."),a.addEventListener("click",()=>{e.style.display="none",localStorage.setItem("hasVisitedWebsite","true")})}}document.getElementById("contribution-form").addEventListener("submit",async e=>{e.preventDefault();const t=document.getElementById("contribution-status");t.textContent="Uploading...";const a=new FormData;a.append("text",document.getElementById("contribution-text").value);try{if(!(await fetch(CONTRIBUTIONS_WORKER_URL,{method:"POST",body:a})).ok)throw new Error("Upload failed");t.textContent="Message sent. Thank you.",e.target.reset(),fetchContributions()}catch(n){t.textContent=`Error: ${n.message}`}});document.getElementById("moment-upload-form").addEventListener("submit",uploadMoment);</script></body></html>
