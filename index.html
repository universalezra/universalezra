<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>universalezra</title><link rel="apple-touch-icon" sizes="180x180" href="/dashboard/apple-touch-icon1.png" /><link rel="icon" type="image/png" sizes="32x32" href="/dashboard/favicon-32x321.png" /><link rel="icon" type="image/png" sizes="16x16" href="/dashboard/favicon-16x161.png" /><link rel="manifest" href="/dashboard/site.webmanifest" /><link rel="stylesheet" href="httpshttps://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" /><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script><style>:root{--primary:#8e44ad;--accent:#00a8ff;--success:#2ecc71;--danger:#e74c3c;--light:#ecf0f1;--dark:#1a1a2e;--bg-main:#16213e;--bg-panel:rgba(26,26,46,.9);--text-primary:#e0fbfc;--text-secondary:#98ded9;--border-color:rgba(0,168,255,.3)}*{box-sizing:border-box}html,body{width:100%;height:100%;margin:0;padding:0;overflow:hidden;font-family:'Courier New',Courier,monospace;background-color:var(--bg-main);color:#00ff00;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}body::before{content:"Ezra A";position:fixed;bottom:10px;left:10px;font-size:1.5rem;color:rgba(255,255,255,.1);z-index:999;pointer-events:none;opacity:.8}#main-viewport{position:fixed;top:0;left:0;width:100vw;height:100vh;overflow:hidden}#grid-container{width:500vw;height:500vh;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr;grid-template-rows:1fr 1fr 1fr 1fr 1fr;transform:translate3d(-200vw,-200vh,0);transition:transform .7s cubic-bezier(.86,0,.07,1)}.grid-block{width:100vw;height:100vh;position:relative;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;border:1px solid rgba(255,255,255,.05);padding:20px}.grid-block-background{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;filter:blur(3px);-webkit-filter:blur(3px);z-index:1}.grid-block-content{position:relative;z-index:2;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.5);padding:20px;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.panel{position:fixed;background:rgba(26,26,46,.7);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);z-index:1010;box-shadow:0 0 50px rgba(0,0,0,.6);transition:transform .5s cubic-bezier(.68,-.55,.27,1.55);display:flex;flex-direction:column;color:#00ff00}.panel.active{transform:translate(0,0)!important}#editor-panel{top:0;left:0;width:100%;height:100%;transform:translateX(-100%)}#music-panel{bottom:0;left:0;width:100%;height:auto;max-height:50vh;border-top:1px solid var(--border-color);transform:translateY(100%);padding:15px}#contribution-panel{top:0;right:0;width:400px;max-width:90vw;height:100%;transform:translateX(100%);padding:20px}#live-visitors-panel,#moment-vault-panel,#dashboard-panel{top:0;left:0;width:100%;height:100%;padding:20px;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center}#live-visitors-panel,#moment-vault-panel{transform:translateY(100%)}#dashboard-panel{transform:translateX(-100%)}#visualizer-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:99;display:none;background-color:transparent}.visualizer-active #visualizer-canvas{display:block;pointer-events:none}.panel-close-btn{position:static;background:0 0;border:none;color:#00ff00;font-size:1.5rem;cursor:pointer;padding:0}.fab-container{position:fixed;z-index:1000;display:flex}.fab,.fab-container a{background:rgba(142,68,173,.7);color:#00ff00;width:55px;height:55px;border-radius:50%;border:none;cursor:pointer;display:flex;justify-content:center;align-items:center;font-size:1.4rem;box-shadow:0 5px 15px rgba(0,0,0,.3);transition:all .3s ease;text-decoration:none}.fab:hover,.fab-container a:hover{background:var(--accent);transform:scale(1.1)}#fab-editor{top:20px;left:20px}#fab-music{top:50%;left:20px;transform:translateY(-50%)}#fab-alkitab{top:20px;right:20px}#fab-contribution{top:calc(50% + 70px);left:20px;transform:translateY(-50%)}#fab-visualizer{bottom:20px;left:50%;transform:translateX(-120%)}#fab-moment-vault{bottom:20px;left:50%;transform:translateX(0)}#fab-live-visitors{bottom:90px;left:50%;transform:translateX(-50%);display:none}#fab-keyboard-toggle{bottom:20px;right:20px}#fab-dashboard-toggle{bottom:20px;left:20px}#live-visitors-panel .live-visitors-content,#moment-vault-panel .moment-vault-content,#dashboard-panel .dashboard-content-wrapper{width:100%;height:100%;max-width:1200px;background:var(--bg-panel);border-radius:15px;box-shadow:0 0 30px rgba(0,0,0,.5);overflow:hidden;display:flex;flex-direction:column;padding:20px}#visitor-list ul{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px}#visitor-history{flex-grow:1;overflow-y:auto;padding:0 20px}#visitor-history table{width:90%;border-collapse:collapse;font-size:.85em}#visitor-history th,#visitor-history td{border:1px solid var(--border-color);padding:8px;text-align:left}#visitor-history th{background-color:rgba(0,168,255,.2);position:sticky;top:0}#moment-vault-gallery-container{flex-grow:1;overflow-y:auto;padding-right:10px}#moment-vault-gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:15px}#moment-upload-form input,#moment-upload-form textarea,#moment-upload-form button{margin-top:5px}.gallery-item{background:rgba(0,0,0,.2);border:1px solid var(--border-color);border-radius:10px;padding:10px;display:flex;flex-direction:column;align-items:center;text-align:center;gap:8px;position:relative}.gallery-media{width:100%;height:120px;display:flex;justify-content:center;align-items:center;overflow:hidden;border-radius:5px;background-color:#333}.gallery-media img,.gallery-media video,.gallery-media audio{width:90%;height:90%;object-fit:cover}.gallery-media .file-icon{font-size:3em;color:var(--text-secondary)}#video-player-widget{position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:999;width:150px;height:150px;border-radius:10px;overflow:hidden;box-shadow:0 5px 20px rgba(0,0,0,.4);border:2px solid var(--border-color);display:flex}#video-player-widget video{width:100%;height:100%;object-fit:cover}.social-links{position:fixed;top:50%;right:20px;transform:translateY(-50%);display:flex;flex-direction:column;gap:15px;z-index:999}.panel-header{display:flex;justify-content:space-between;align-items:center;padding:10px 15px;background:rgba(0,0,0,.3);flex-shrink:0}.panel-title{font-weight:700;font-size:1.1em;margin-right:auto}.editor-toolbar{padding:0;margin:0 15px;display:flex;gap:10px;flex-wrap:wrap}.editor-toolbar button{background:var(--accent);color:var(--text-primary);border:none;padding:8px 12px;border-radius:5px;cursor:pointer;transition:background-color .2s}.editor-toolbar button:hover{background:var(--primary)}.editor-main{display:flex;flex-grow:1;gap:10px;padding:10px}.editor-code-area,.editor-preview-area{flex:1;border:1px solid var(--border-color);border-radius:5px;overflow:hidden}#unified-code-editor{width:100%;height:100%;background:rgba(0,0,0,.3);color:var(--text-primary);border:none;padding:10px;resize:none;outline:none}#editor-preview{width:100%;height:100%;border:none;background:var(--light)}#video-player-widget .video-controls{position:absolute;bottom:0;left:0;width:100%;display:flex;justify-content:space-evenly;align-items:center;padding:5px 0;background:rgba(0,0,0,.5);backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);transition:opacity .3s ease;opacity:0}#video-player-widget:hover .video-controls{opacity:1}#video-player-widget .video-controls button{background:0 0;border:none;color:#fff;font-size:1rem;cursor:pointer;padding:5px}#moment-vault-panel h3{padding:10px 20px;border-radius:10px;background:rgba(0,0,0,.4);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}#moment-upload-form{width:100%;max-width:600px}#moment-upload-form input,#moment-upload-form textarea{display:block;width:100%;margin-top:15px;padding:12px;background:rgba(0,0,0,.4);border:1px solid var(--border-color);color:var(--text-primary);border-radius:8px}#moment-upload-form button{width:100%;padding:12px;background:var(--accent);border:none;color:#fff;font-size:1em;cursor:pointer;border-radius:8px;transition:background .3s ease}#moment-upload-form button:hover{background:var(--primary)}.grid-block-background video{width:100%;height:100%;object-fit:cover;position:absolute;top:0;left:0;z-index:-1}#block-4-3 .grid-block-background,#block-3-4 .grid-block-background{-webkit-filter:none;filter:none}#block-3-4 .grid-block-background{background-size:cover;background-position:center;background-repeat:no-repeat}#center-video-container{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1100;width:80vw;height:80vh;max-width:1200px;max-height:800px;background:rgba(0,0,0,.9);border:2px solid var(--accent);border-radius:10px;display:none;justify-content:center;align-items:center;flex-direction:column;box-shadow:0 0 50px rgba(0,0,0,.8)}#center-video-container.active{display:flex}#center-video-container video{width:95%;height:95%;object-fit:contain}#center-video-close{position:absolute;top:10px;right:10px;font-size:2rem;color:#fff;cursor:pointer;background:0 0;border:none;z-index:10}#bible-widget-container{width:100%;max-width:500px;height:auto;min-height:300px;border:1px solid var(--border-color);border-radius:10px;box-shadow:0 0 15px rgba(0,0,0,.5);overflow:hidden}#dashboard-content{height:100%;width:100%;padding:20px;text-align:left;color:var(--text-primary);overflow-y:auto}.dashboard-card{background:rgba(0,0,0,.4);padding:15px;border-radius:10px;margin-bottom:15px;border:1px solid var(--border-color)}.dashboard-card h4{margin-top:0;color:var(--accent)}.dashboard-card p{margin-bottom:0;font-size:.9em}.screenshot-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(255,0,0,.9);color:#fff;padding:20px;border-radius:10px;font-size:1.2em;z-index:9999;display:none;box-shadow:0 0 20px rgba(0,0,0,.5)}#new-user-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:500px;background:var(--bg-panel);color:var(--text-primary);border:1px solid var(--border-color);border-radius:10px;z-index:10000;padding:25px;box-shadow:0 10px 40px rgba(0,0,0,.6);display:none;text-align:center}#new-user-popup h3{margin-top:0;color:var(--accent)}#new-user-popup p{margin-bottom:15px}#new-user-popup a{color:var(--accent)}#popup-close-btn{background:var(--primary);color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;margin-top:10px;transition:background .2s}#popup-close-btn:hover{background:var(--accent)}.progress-bar-container{width:100%;background-color:rgba(0,0,0,.4);border-radius:5px;margin-top:10px;overflow:hidden;border:1px solid var(--border-color)}.progress-bar{background-color:var(--accent);padding:4px 8px;text-align:right;color:#fff;font-size:.8em;font-weight:700;white-space:nowrap;transition:width .8s ease-in-out}</style></head><body><div id="new-user-popup"><h3>Selamat Datang</h3><p>Untuk pengalaman terbaik, kami merekomendasikan:</p><ul><li style="text-align:left;margin-bottom:10px">Gunakan aplikasi kami untuk fitur penuh: <a href="https://drive.google.com/file/d/11fQBWB9C1PjUQvb8b-IqHdNLS7YkFSFD/view?usp=drivesdk" target="_blank">Download di sini</a></li><li style="text-align:left;margin-bottom:10px">Putar layar Anda ke mode lanskap (landscape).</li></ul><p>Dengan melanjutkan, Anda setuju dengan <a href="#privacy" onclick="alert('Kebijakan Privasi: Kami mengumpulkan data anonim seperti ID browser dan alamat IP untuk analisis statistik pengunjung. Data ini tidak akan dibagikan dengan pihak ketiga.');">Kebijakan Privasi</a> kami.</p><button id="popup-close-btn">Mengerti</button></div><div class="screenshot-popup" id="screenshot-popup">Screenshot tidak diizinkan!</div><canvas id="visualizer-canvas"></canvas><audio id="matrix-sound" src="/dashboard/matrix-code.mp3" preload="auto"></audio><div id="main-viewport"><div id="grid-container"><div class="grid-block" id="block-1-1"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=1')"></div><div class="grid-block-content"><h1>Block (1,1)</h1></div></div><div class="grid-block" id="block-1-2"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=2')"></div><div class="grid-block-content"><h1>Block (1,2)</h1></div></div><div class="grid-block" id="block-1-3"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=3')"></div><div class="grid-block-content"><!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Informasi Cuaca & Angin</title><style>body{font-family:'Courier New',Courier,monospace;background-color:#000;color:#333;margin:0;padding:0;display:flex;flex-direction:column;align-items:center}.header{text-align:center;margin-bottom:30px}.header h1{color:#2c3e50}.container{display:flex;flex-wrap:wrap;justify-content:center;gap:30px;width:100%;max-width:1200px}.widget{background-color:#fff;border-radius:0;box-shadow:0 0 0 rgba(0,0,0,.1);padding:0;text-align:center;min-width:320px}.widget h2{margin-top:0;color:#3498db;border-bottom:0 solid #ecf0f1;padding-bottom:0;margin-bottom:0}.footer{margin-top:40px;font-size:.9em;color:#7f8c8d}</style></head><body><div class="header"><h1>Dashboard Cuaca Saat Ini</h1><p>Informasi cuaca dan peta arah angin real-time.</p></div><div class="container"><div class="widget"><h2>Cuaca Lokal (Jakarta)</h2><a class="weatherwidget-io" href="https://forecast7.com/en/n6d21106d82/jakarta/" data-label_1="JAKARTA" data-label_2="CUACA" data-theme="original">JAKARTA WEATHER</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs)}}(document,'script','weatherwidget-io-js')</script></div><div class="widget"><h2>Peta Arah Angin</h2><iframe width="600" height="450" src="https://embed.windy.com/embed2.html?lat=-2.495&lon=118.213&detailLat=-6.215&detailLon=106.827&width=600&height=450&zoom=5&level=surface&overlay=wind&product=ecmwf&menu=&message=true&marker=true&calendar=now&pressure=&type=map&location=coordinates&detail=true&metricWind=default&metricTemp=default&radarRange=-1" frameborder="0"></iframe></div></div><div class="footer"><p>&copy; 2024 Website Cuaca Anda</p></div></body></html></div></div><div class="grid-block" id="block-1-4"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=4')"></div><div class="grid-block-content"><h1>Block (1,4)</h1></div></div><div class="grid-block" id="block-1-5"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=5')"></div><div class="grid-block-content"><h1>Block (1,5)</h1></div></div><div class="grid-block" id="block-2-1"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=6')"></div><div class="grid-block-content"><h1>Block (2,1)</h1></div></div><div class="grid-block" id="block-2-2"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=7')"></div><div class="grid-block-content"><h1>Block (2,2)</h1></div></div><div class="grid-block" id="block-2-3"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=8')"></div><div class="grid-block-content"><h1>Block (2,3)</h1></div></div><div class="grid-block" id="block-2-4"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=9')"></div><div class="grid-block-content"><h1>Block (2,4)</h1></div></div><div class="grid-block" id="block-2-5"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=10')"></div><div class="grid-block-content"><h1>Block (2,5)</h1></div></div><div class="grid-block" id="block-3-1"><div class="grid-block-content"><h3 style="margin-bottom:20px">Peta Bintang</h3><iframe src="https://stellarium-web.org/" width="90%" height="80%" frameborder="0" style="border-radius:10px;border:none"></iframe></div></div><div class="grid-block" id="block-3-2"><div class="grid-block-content"><h3>Ayat Hari Ini (YouVersion)</h3><div id="bible-widget-container"><iframe src="https://www.bible.com/verse-of-the-day/TB" width="100%" height="100%" style="border:none"></iframe></div></div></div><div class="grid-block" id="block-center"><div class="grid-block-background" id="interactive-bg" style="background-image:url('/dashboard/wallpaper.png')"></div><div class="grid-block-content"><div class="central-message"><p>By <a href="/dashboard/secret.html" class="ezra-link">Ezra</a></p></div><div class="panel" id="contribution-panel-desktop" style="display:none"></div></div></div><div class="grid-block" id="block-3-4"><div class="grid-block-background" style="background-image:url('https://universalezra.netlify.app/moments/1751293320517-December%2013,%202024%20at%204.29%20AM%20(1).jpg')"></div></div><div class="grid-block" id="block-3-5"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=15')"></div><div class="grid-block-content"><h1>Block (3,5)</h1></div></div><div class="grid-block" id="block-4-1"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=16')"></div><div class="grid-block-content"><h1>Block (4,1)</h1></div></div><div class="grid-block" id="block-4-2"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=17')"></div><div class="grid-block-content"><h1>Block (4,2)</h1></div></div><div class="grid-block" id="block-4-3"><div class="grid-block-background"><video autoplay loop muted playsinline><source src="/dashboard/bg.mp4" type="video/mp4"></video></div><div class="grid-block-content"></div></div><div class="grid-block" id="block-4-4"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=19')"></div><div class="grid-block-content"><h1>Block (4,4)</h1></div></div><div class="grid-block" id="block-4-5"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=20')"></div><div class="grid-block-content"><h1>Block (4,5)</h1></div></div><div class="grid-block" id="block-5-1"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=21')"></div><div class="grid-block-content"><h1>Block (5,1)</h1></div></div><div class="grid-block" id="block-5-2"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=22')"></div><div class="grid-block-content"><h1>Block (5,2)</h1></div></div><div class="grid-block" id="block-5-3"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=23')"></div><div class="grid-block-content"><h1>Block (5,3)</h1></div></div><div class="grid-block" id="block-5-4"><div class="grid-block-background" style="background-image:url('https://picsum.photos/1920/1080?random=24')"></div><div class="grid-block-content"><h1>Block (5,4)</h1></div></div><div class="grid-block" id="block-5-5"><div class="grid-block-content"><h3>Spaceship 3D Model</h3><iframe title="Executor-Class Star Dreadnought" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/442c548d94744641ba279ae94b5f45ec/embed" style="width:90%;height:90%;border:none;border-radius:12px"></iframe></div></div></div></div><div class="fab-container" id="fab-editor"><button class="fab" data-panel="editor-panel" title="Code Editor"><i class="fas fa-code"></i></button></div><div class="fab-container" id="fab-music"><button class="fab" data-panel="music-panel" title="Music Player"><i class="fas fa-music"></i></button></div><div class="fab-container" id="fab-contribution"><button class="fab" data-panel="contribution-panel" title="Leave a Message"><i class="fas fa-feather-alt"></i></button></div><div class="fab-container" id="fab-alkitab"><a class="fab" href="https://alkitab.me/in-tb/Matius/5/13" target="_blank" title="Alkitab"><i class="fas fa-book"></i></a></div><div class="fab-container" id="fab-visualizer"><button class="fab" data-panel="visualizer" title="Visualizer"><i class="fas fa-expand"></i></button></div><div class="fab-container" id="fab-moment-vault"><button class="fab" data-panel="moment-vault-panel" title="Moment Vault"><i class="fas fa-archive"></i></button></div><div class="fab-container" id="fab-live-visitors"><button class="fab" data-panel="live-visitors-panel" title="Live Visitors"><i class="fas fa-eye"></i></button></div><div class="fab-container" id="fab-keyboard-toggle"><button class="fab" title="Enter Password"><i class="fas fa-keyboard"></i></button></div><div class="fab-container" id="fab-dashboard-toggle"><button class="fab" data-panel="dashboard-panel" title="Target Dashboard"><i class="fas fa-bullseye"></i></button></div><div id="video-player-widget"><video id="widget-video" loop src="/dashboard/video.mp4"></video><div class="video-controls"><button id="video-play-pause"><i class="fas fa-play"></i></button><button id="video-mute"><i class="fas fa-volume-up"></i></button></div></div><div class="social-links"><a href="https://wa.me/6283844959380" target="_blank" title="WhatsApp"><i class="fab fa-whatsapp"></i></a><a href="https://www.instagram.com/elvizill/?utm_source=ig_web_button_share_sheet" target="_blank" title=" My Instagram Girl"><i class="fab fa-instagram"></i></a></div><div class="panel" id="editor-panel"><div class="panel-header"><span class="panel-title">Code Editor</span><div class="editor-toolbar"><button id="editor-run"><i class="fas fa-play"></i> Run</button><button id="editor-save"><i class="fas fa-save"></i> Save</button><button id="editor-load"><i class="fas fa-folder-open"></i> Load</button><button id="editor-new"><i class="fas fa-file"></i> New</button><button id="editor-undo"><i class="fas fa-undo"></i> Undo</button><button id="editor-redo"><span><i class="fas fa-redo"></i> Redo</span></button></div><button class="panel-close-btn" data-panel="editor-panel"><i class="fas fa-times"></i></button></div><div class="editor-main"><div class="editor-code-area"><textarea id="unified-code-editor" spellcheck="false"></textarea></div><div class="editor-preview-area"><iframe id="editor-preview"></iframe></div></div></div><div class="panel" id="music-panel"><button class="panel-close-btn" data-panel="music-panel"><i class="fas fa-times"></i></button><div id="music-player-content"><h5 id="song-title">Select a song</h5><audio id="audio-player" controls loop style="width:100%"></audio><div id="playlist" style="max-height:20vh;overflow-y:auto;margin-top:10px"></div></div></div><div class="panel" id="contribution-panel"><button class="panel-close-btn" data-panel="contribution-panel"><i class="fas fa-times"></i></button><div id="contribution-content" style="display:flex;flex-direction:column;height:100%"><h3 style="margin-top:20px">Leave a Message</h3><div id="contribution-display" style="flex-grow:1;overflow-y:auto;padding-right:10px;margin-bottom:15px"><p>Loading</p></div><form id="contribution-form"><textarea id="contribution-text" placeholder="Your message" required style="width:100%;min-height:80px;background:rgba(0,0,0,.2);color:var(--text-primary);border:1px solid var(--border-color);border-radius:5px;padding:10px"></textarea><div style="display:flex;justify-content:flex-end;align-items:center;margin-top:10px"><button type="submit" class="fab" style="position:static;width:45px;height:45px;font-size:1.1rem"><i class="fas fa-paper-plane"></i></button></div><p id="contribution-status" style="font-size:.9em;text-align:center;margin-top:10px"></p></form></div></div><div class="panel" id="live-visitors-panel"><button class="panel-close-btn" data-panel="live-visitors-panel"><i class="fas fa-times"></i></button><div class="live-visitors-content"><h3 style="margin-bottom:15px;color:var(--accent);text-align:center">Live Visitors</h3><div id="mv-live-visitors-list-container" style="flex-grow:1;overflow-y:auto;padding-right:10px"><p style="text-align:center;color:var(--text-secondary)">visitor</p><ul id="visitor-list" style="list-style:none;padding:0;margin:0"></ul></div><div id="visitor-history"><p style="text-align:center;color:var(--text-secondary)">Loading history</p></div><div style="margin-top:15px;text-align:center;font-size:.85em;color:var(--text-secondary)">updated: <span id="last-updated-time">N/A</span></div></div></div><div class="panel" id="moment-vault-panel"><button class="panel-close-btn" data-panel="moment-vault-panel"><i class="fas fa-times"></i></button><div class="moment-vault-content" style="display:flex;flex-direction:column;height:100%"><h3 style="margin-bottom:15px;color:var(--accent);text-align:center">Share your moment here</h3><div id="moment-vault-gallery-container" style="flex-grow:1;overflow-y:auto;padding-right:10px;margin-bottom:15px"><p style="text-align:center;color:var(--text-secondary)">Memories</p><div id="moment-vault-gallery"></div></div><form id="moment-upload-form"><input type="text" id="moment-title" placeholder="Title" required /><textarea id="moment-description" placeholder="Describe" rows="3"></textarea><input type="file" id="moment-file" accept="*/*" required /><button type="submit">Upload</button><p id="moment-upload-status" style="font-size:.9em;text-align:center;margin-top:10px"></p></form></div></div><div class="panel" id="dashboard-panel"><button class="panel-close-btn" data-panel="dashboard-panel"><i class="fas fa-times"></i></button><div class="dashboard-content-wrapper"><div id="dashboard-content"><div id="website-age-display" style="text-align:center;font-size:1.2em;margin-bottom:20px;color:var(--text-primary)"></div><h3 style="margin-bottom:15px;color:var(--accent);text-align:center">Dashboard</h3><p style="text-align:center;color:var(--text-secondary)">Ini adalah tampilan statis dari target-target masa depan (Ezra team's).</p><div class="dashboard-card"><h4>Proyek 1</h4><p>Membeli pertapakan di kota Subulussalam plus bangunannya di sekitar kantor Dinas sosial</p><div class="progress-bar-container"><div class="progress-bar" style="width:25%">25%</div></div></div><div class="dashboard-card"><h4>Proyek 2</h4><p>Membeli kebun sawit di dekat jalan setelah unit usahaku mencapai 3</p><div class="progress-bar-container"><div class="progress-bar" style="width:45%">45%</div></div></div><div class="dashboard-card"><h4>Proyek 3</h4><p>Menjadi pelayan Tuhan Yesus yang sejati</p><div class="progress-bar-container"><div class="progress-bar" style="width:15%">15%</div></div></div><div class="dashboard-card"><h4>proyek 4</h4><p>Mecapai dan mendapatkan semua yang sudah di skenario kan oleh Tuhan dengan kehendaknya</p><div class="progress-bar-container"><div class="progress-bar" style="width:70%">70%</div></div></div><div class="dashboard-card"><h4>Proyek Tambahan 5? : VF</h4><div class="progress-bar-container"><div class="progress-bar" style="width:90%">90%</div></div></div><div class="dashboard-card"><div class="progress-bar-container"><div class="progress-bar" style="width:5%">5%</div></div></div></div></div></div><div id="center-video-container"><button id="center-video-close"><i class="fas fa-times"></i></button><video id="center-video-player" loop muted playsinline></video></div><script>const CONTRIBUTIONS_WORKER_URL='https://contributions-workerjs.ezvvel.workers.dev/',MOMENT_VAULT_WORKER_URL='https://moment-vault-worker-url.universalezra.workers.dev',GITHUB_REPO_OWNER='universalezra',GITHUB_REPO_NAME='universalezra',GITHUB_TOKEN_WORKER_URL='https://github-token-worker-url.universalezra.workers.dev';let liveVisitorRefreshInterval,isEzraLoggedIn=!1;const LIVE_VISITORS_WORKER_URL='https://live-visitors.ezvvel.workers.dev/',VISITOR_HISTORY_WORKER_URL='https://visitor-history.universalezra.workers.dev/',VISITOR_HISTORY_EXPIRY_DAYS=7,REFRESH_INTERVAL_MS=5e3,LIVE_VISITORS_PASSWORD='💔',MOMENT_VAULT_PASSWORD='vmoments',CENTER_VIDEO_PASSWORD='elvy';let isVisualizerActive=!1,isElviModeActive=!1;function hideUIElements(){document.querySelectorAll('.fab-container, #video-player-widget, .social-links').forEach(e=>{e.style.display='none'})}function showUIElements(){document.querySelectorAll('.fab-container, #video-player-widget, .social-links').forEach(e=>{'fab-live-visitors'===e.id&&'none'===e.style.display&&'true'===e.getAttribute('data-unlocked')||(e.style.display='flex')})}function updateUIVisibility(){isElviModeActive&&(1===currentY&&2===currentX?hideUIElements():showUIElements())}let visualizerCanvas,audioContext,analyser,source,frequencyData,bufferLength,scene,camera,renderer,icosahedron,particles3D,frequencyBarsGroup,lastBassLevel=0;const BASS_BEAT_THRESHOLD=1.4,PARTICLE_COUNT=500,FREQ_RANGE_START_HZ=20,FREQ_RANGE_END_HZ=1024;let gridContainer,currentX=2,currentY=2,isDragging=!1,startX=0,startY=0;const SWIPE_THRESHOLD=50;function enterFullscreen(){document.fullscreenElement||document.documentElement.requestFullscreen().catch(e=>{console.warn(`Gagal masuk mode fullscreen: ${e.message}`)})}function exitFullscreen(){document.fullscreenElement&&document.exitFullscreen()}function initSwipeGestures(){const e=document.getElementById('matrix-sound'),t=(t,a)=>{const o=currentX,n=currentY;currentX=Math.min(4,Math.max(0,currentX+t)),currentY=Math.min(4,Math.max(0,currentY+a)),o===currentX&&n===currentY||(gridContainer.style.transform=`translate3d(-${100*currentX}vw, -${100*currentY}vh, 0)`,console.log(`Grid moved to block (${currentX+1}, ${currentY+1}). Playing sound.`),e.currentTime=0,e.play().catch(e=>{console.error("Audio play failed:",e)})),updateUIVisibility(),isElviModeActive&&(1===currentY&&2===currentX?enterFullscreen():exitFullscreen())},a=e=>{isDragging=!0,startX=e.clientX||e.touches[0].clientX,startY=e.clientY||e.touches[0].clientY};document.addEventListener('DOMContentLoaded',()=>{gridContainer=document.getElementById('grid-container'),initPanelControls(),initVideoPlayer(),initEditor(),initMusicPlayer(),initWebsiteAgeDisplay(),trackVisitor(),initVisualizer(),initSwipeGestures(),initPasswordFeature(),initSecurityFeatures(),checkFirstVisit()}),document.addEventListener('mousedown',a),document.addEventListener('mouseup',e=>{if(isDragging){const a=e.clientX||e.changedTouches[0].clientX,o=e.clientY||e.changedTouches[0].clientY,n=a-startX,i=o-startY;isDragging=!1,Math.abs(n)>Math.abs(i)&&Math.abs(n)>50?t(n>0?-1:1,0):Math.abs(i)>Math.abs(n)&&Math.abs(i)>50&&t(0,i>0?-1:1)}}),document.addEventListener('touchstart',a),document.addEventListener('touchend',e=>{if(isDragging){const a=e.clientX||e.changedTouches[0].clientX,o=e.clientY||e.changedTouches[0].clientY,n=a-startX,i=o-startY;isDragging=!1,Math.abs(n)>Math.abs(i)&&Math.abs(n)>50?t(n>0?-1:1,0):Math.abs(i)>Math.abs(n)&&Math.abs(i)>50&&t(0,i>0?-1:1)}})}function initPanelControls(){document.querySelectorAll('[data-panel]').forEach(e=>{e.addEventListener('click',t=>{const a=e.getAttribute('data-panel');if('visualizer'===a)return void toggleVisualizerOverlay();const o=document.getElementById(a);'live-visitors-panel'===a?'💔'===prompt('Please enter the password to unlock this feature:')?(isEzraLoggedIn=!0,o.classList.toggle('active'),o.classList.contains('active')?(fetchLiveVisitors(),fetchVisitorHistory(),liveVisitorRefreshInterval=setInterval(fetchLiveVisitors,5e3)):(clearInterval(liveVisitorRefreshInterval),document.getElementById('visitor-list').innerHTML='',document.getElementById('visitor-history').innerHTML='')):(alert('Incorrect or blank password!'),isEzraLoggedIn=!1):(o.classList.toggle('active'),'contribution-panel'===a&&o.classList.contains('active')?fetchContributions():'moment-vault-panel'===a&&(o.classList.contains('active')?fetchMomentVaultGallery():document.getElementById('moment-vault-gallery').innerHTML=''),document.querySelectorAll('.panel').forEach(e=>{e.id!==a&&(e.classList.remove('active'),'live-visitors-panel'===e.id&&(clearInterval(liveVisitorRefreshInterval),document.getElementById('visitor-list').innerHTML='',document.getElementById('visitor-history').innerHTML='',isEzraLoggedIn=!1),'moment-vault-panel'===e.id&&(document.getElementById('moment-vault-gallery').innerHTML=''))}))})}),document.querySelectorAll('.panel-close-btn').forEach(e=>{e.addEventListener('click',()=>{const t=e.getAttribute('data-panel'),a=document.getElementById(t);a.classList.remove('active'),'live-visitors-panel'===t?(clearInterval(liveVisitorRefreshInterval),document.getElementById('visitor-list').innerHTML='',document.getElementById('visitor-history').innerHTML='',isEzraLoggedIn=!1):'moment-vault-panel'===t&&(document.getElementById('moment-vault-gallery').innerHTML='')})})}function initVideoPlayer(){const e=document.getElementById('widget-video'),t=document.getElementById('video-play-pause'),a=document.getElementById('video-mute');t.addEventListener('click',()=>{e.paused?(e.play(),t.innerHTML='<i class="fas fa-pause"></i>'):(e.pause(),t.innerHTML='<i class="fas fa-play"></i>')}),a.addEventListener('click',()=>{e.muted=!e.muted,a.innerHTML=e.muted?'<i class="fas fa-volume-mute"></i>':'<i class="fas fa-volume-up"></i>'})}function initMusicPlayer(){const e=document.getElementById('audio-player'),t=document.getElementById('playlist'),a=document.getElementById('song-title');[{name:'On And On',url:'/dashboard/On-And-On.mp3'},{name:'Where We Are',url:'/dashboard/Where-We-Are.mp3'},{name:'Sekuat Hatimu',url:'/dashboard/Sekuat Hatimu.mp3'}].forEach((o,n)=>{const i=document.createElement('div');i.textContent=o.name,i.style.cursor='pointer',i.style.padding='8px',i.onclick=()=>{e.src=o.url,a.textContent=o.name,e.play()},t.appendChild(i)})}function initEditor(){const e=document.getElementById('unified-code-editor'),t=document.getElementById('editor-preview'),a=document.getElementById('editor-run'),o=document.getElementById('editor-save'),n=document.getElementById('editor-load'),i=document.getElementById('editor-new'),d=document.getElementById('editor-undo'),r=document.getElementById('editor-redo');let l=[''],s=0;const c=()=>{const t=e.value;t!==l[s]&&(s<l.length-1&&(l=l.slice(0,s+1)),l.push(t),s=l.length-1)},p=()=>{const a=e.value,o=a.match(/<body>([\s\S]*?)<\/body>/i),n=a.match(/<style>([\s\S]*?)<\/style>/i),i=a.match(/<script>([\s\S]*?)<\/script>/i),d=o?o[1]:a,r=n?n[1]:'',l=i?i[1]:'';t.srcdoc=`<!DOCTYPE html><html><head><style>${r}</style></head><body>${d}<script>${l}<\/script></body></html>`},u=()=>{localStorage.setItem('unified_editor_code',e.value),console.log('Code saved successfully')},m=()=>{e.value=localStorage.getItem('unified_editor_code')||'<!DOCTYPE html><html><head><title>My trial</title><style>body {font-family: sans-serif;background-color: #000000;color: #259;text-align: center;padding-top: 50px;}h1 {color: var(--primary);}</style></head><body><h1>Hello Editor</h1><p id="message">Code Here</p><script>document.getElementById(\'message\').onclick = function() {console.log(\'Paragraph clicked!\');};<\/script></body></html>',p(),l=[e.value],s=0},g=()=>{e.value='<!DOCTYPE html><html><head><title>New trial</title><style>body {font-family: Arial, sans-serif;background-color: #000000;color: #abb2bf;display: flex;justify-content: center;align-items: center;min-height: 100vh;margin: 0;}h1 {color: #61dafb;}</style></head><body><h1>Start Coding Here!l</h1><script>console.log("New document loaded.");<\/script></body></html>',p(),l=[e.value],s=0},h=()=>{s>0&&(s--,e.value=l[s],p())},y=()=>{s<l.length-1&&(s++,e.value=l[s],p())};a.addEventListener('click',p),o.addEventListener('click',u),n.addEventListener('click',m),i.addEventListener('click',g),d.addEventListener('click',h),r.addEventListener('click',y),e.addEventListener('input',c),m()}async function fetchContributions(){const e=document.getElementById('contribution-display');e.innerHTML='<p>Loading</p>';try{const t=await fetch('https://contributions-workerjs.ezvvel.workers.dev/'),a=await t.json();e.innerHTML=a&&a.length>0?a.reverse().map(e=>`<div style="background:rgba(0,0,0,0.2);padding:10px;border-radius:5px;margin-bottom:10px;"><p style="margin:0;">${e.text}</p><small style="color:var(--text-secondary);">${new Date(e.timestamp).toLocaleString()}</small></div>`).join(''):'<p>Be the first to leave a message</p>'}catch(t){e.innerHTML='<p style="color:var(--danger);">Could not load contributions.</p>'}}function initWebsiteAgeDisplay(){const e=document.getElementById('website-age-display'),t=new Date(2006,7,7,0,0,0);(function a(){const o=new Date,n=o.getTime()-t.getTime(),i=Math.floor(n/1e3),d=Math.floor(i/60),r=Math.floor(d/60),l=Math.floor(r/24),s=Math.floor(l/365.25),c=Math.floor(l%365.25),p=Math.floor(c/30.44),u=Math.floor(c%30.44),m=i%60,g=d%60,h=r%24;let y='';s>0&&(y+=`${s}T `),(p>0||s>0)&&(y+=`${p}B `),y+=`${u}H `,y+=`${h.toString().padStart(2,'0')}:`,y+=`${g.toString().padStart(2,'0')}:`,y+=`${m.toString().padStart(2,'0')}`,e.textContent=`${y}`})(),setInterval(function a(){const o=new Date,n=o.getTime()-t.getTime(),i=Math.floor(n/1e3),d=Math.floor(i/60),r=Math.floor(d/60),l=Math.floor(r/24),s=Math.floor(l/365.25),c=Math.floor(l%365.25),p=Math.floor(c/30.44),u=Math.floor(c%30.44),m=i%60,g=d%60,h=r%24;let y='';s>0&&(y+=`${s}T `),(p>0||s>0)&&(y+=`${p}B `),y+=`${u}H `,y+=`${h.toString().padStart(2,'0')}:`,y+=`${g.toString().padStart(2,'0')}:`,y+=`${m.toString().padStart(2,'0')}`,e.textContent=`${y}`},1e3)}function checkEzraLoginAndShowVisitorsButton(){document.getElementById('fab-live-visitors')}async function fetchLiveVisitors(){const e=document.getElementById('visitor-list'),t=document.getElementById('last-updated-time');e.innerHTML.trim()&&!e.innerHTML.includes('Loading visitors')||(e.innerHTML='<li style="text-align: center; color: var(--text-secondary);">Loading</li>');try{const a=await fetch('https://live-visitors.ezvvel.workers.dev/?get_visitors=true');if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const o=await a.json();e.innerHTML=o&&o.length>0?o.map(e=>{const t=(new Date(e.timestamp)).toLocaleString('id-ID',{hour:'2-digit',minute:'2-digit',second:'2-digit',day:'2-digit',month:'2-digit',year:'numeric'});return`<li><strong>ID:</strong> <span>${e.browserId.substring(0,10)}</span><br><strong>IP:</strong> <span>${e.ip||'N/A'}</span><br><strong>Waktu:</strong> <span>${t}</span></li>`}).join(''):'<li style="text-align: center; color: var(--text-secondary);">No online</li>',t.textContent=(new Date).toLocaleTimeString('id-ID')}catch(a){console.error('Error fetching live visitors:',a),e.innerHTML='<li style="text-align: center; color: var(--danger);">Failed</li>',t.textContent='Error'}}async function fetchVisitorHistory(){const e=document.getElementById('visitor-history');e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">Loading history</p>';try{const t=await fetch('https://visitor-history.universalezra.workers.dev/?get_history=true');if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);let a=await t.json();if(a&&a.length>0){const t=a.reduce((e,t)=>(e[t.browserId]=(e[t.browserId]||0)+1,e),{}),o='<table><thead><tr><th>Timestamp</th><th>Browser ID</th><th>IP</th><th>Referral</th><th>Total Kunjungan</th></tr></thead><tbody>',n=a.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)).map(e=>{const a=(new Date(e.timestamp)).toLocaleString('id-ID',{year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit'});return`<tr><td>${a}</td><td>${e.browserId.substring(0,10)}...</td><td>${e.ip||'N/A'}</td><td>${e.referrer||'Direct'}</td><td>${t[e.browserId]||1}</td></tr>`}).join(''),i='</tbody></table>';e.innerHTML=o+n+i}else e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">No visitor history yet</p>'}catch(t){console.error('Failed to load visitor history:',t),e.innerHTML='<p style="text-align: center; color: var(--danger);">Sistem lagi crash</p>'}}function getBrowserId(){let e=localStorage.getItem('unique_browser_id');return e||(e='browser_'+Math.random().toString(36).substr(2,9)+Date.now(),localStorage.setItem('unique_browser_id',e)),e}async function trackVisitor(){try{const e=getBrowserId();let t='unknown',a=document.referrer||'direct';try{const e=await fetch('https://api.ipify.org?format=json'),o=await e.json();t=o.ip}catch(e){console.warn('Could not fetch IP address:',e)}const o={browserId:e,ip:t,userAgent:navigator.userAgent,timestamp:(new Date).toISOString(),referrer:a};fetch('https://live-visitors.ezvvel.workers.dev/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(o)}).catch(e=>{console.error('Error sending to live visitors worker:',e)}),fetch('https://visitor-history.universalezra.workers.dev/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(o)}).catch(e=>{console.error('Error sending to visitor history worker:',e)})}catch(e){console.error('Error in trackVisitor:',e)}}async function fetchMomentVaultGallery(){const e=document.getElementById('moment-vault-gallery');e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">Loading</p>';try{const t=await fetch('https://moment-vault-worker-url.universalezra.workers.dev?get_gallery=true');if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();a&&a.length>0?(a.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),e.innerHTML=a.map(e=>{let t,o=e.fileUrl.split('.').pop().toLowerCase(),n='';return e.fileType&&e.fileType.startsWith('image/')?t=`<img src="${e.fileUrl}" alt="${e.title}">`:e.fileType&&e.fileType.startsWith('video/')?t=`<video src="${e.fileUrl}" controls></video>`:e.fileType&&e.fileType.startsWith('audio/')?t=`<audio src="${e.fileUrl}" controls></audio>`:('pdf'===o?n='fa-file-pdf':o.startsWith('doc')?n='fa-file-word':'txt'===o?n='fa-file-alt':n='fa-file',t=`<i class="fas ${n} file-icon"></i>`),const i=(new Date(e.timestamp)).toLocaleString('id-ID',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});`<div class="gallery-item" data-id="${e.id}"><div class="gallery-media">${t}</div><strong>${e.title}</strong><p class="item-text">${e.description}</p><small class="item-date">${i}</small><div class="item-actions"><button class="edit-moment-btn"><i class="fas fa-edit"></i></button><button class="delete-moment-btn"><i class="fas fa-trash-alt"></i></button></div></div>`}).join(''),e.querySelectorAll('.edit-moment-btn').forEach(e=>{e.addEventListener('click',t=>{const o=t.target.closest('.gallery-item').dataset.id;editMoment(o,a)})}),e.querySelectorAll('.delete-moment-btn').forEach(e=>{e.addEventListener('click',t=>{const a=t.target.closest('.gallery-item').dataset.id;deleteMoment(a)})})):e.innerHTML='<p style="text-align: center; color: var(--text-secondary);">No uploaded yet</p>'}catch(t){console.error('Error fetching Moment Vault gallery:',t),e.innerHTML='<p style="text-align: center; color: var(--danger);">Failed to load gallery items.</p>'}}async function uploadMoment(e){e.preventDefault();const t=document.getElementById('moment-upload-status');t.textContent='Uploading',t.style.color='var(--text-secondary)';const a=document.getElementById('moment-title').value,o=document.getElementById('moment-description').value,n=document.getElementById('moment-file'),i=n.files[0];if(!i||!a)return t.textContent='Title and file are required!',void(t.style.color='var(--danger)');let d;try{const e=await fetch('https://github-token-worker-url.universalezra.workers.dev');if(!e.ok)throw new Error('Failed to fetch GitHub token');const a=await e.json();if(d=a.token,!d)throw new Error('GitHub token not found in response')}catch(e){return console.error('Error getting GitHub token:',e),t.textContent=`Error: Could not get GitHub token. ${e.message}`,void(t.style.color='var(--danger)')}try{const n=`moments/${Date.now()}-${i.name}`,r=await readFileAsBase64(i),l=`https://api.github.com/repos/universalezra/universalezra/contents/${n}`,s=await fetch(l,{method:'PUT',headers:{Authorization:`token ${d}`,'Content-Type':'application/json'},body:JSON.stringify({message:`Upload moment: ${a}`,content:r,branch:'main'})});if(!s.ok){const e=await s.text();throw new Error(`GitHub upload failed: ${s.status} - ${e}`)}const c=await s.json(),p=c.content.download_url,u={id:'moment_'+Math.random().toString(36).substr(2,9)+Date.now(),title:a,description:o,fileUrl:p,fileType:i.type,timestamp:(new Date).toISOString()},m=await fetch('https://moment-vault-worker-url.universalezra.workers.dev',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(u)});if(!m.ok)throw new Error('Failed to save moment metadata to KV');t.textContent='successfully',t.style.color='var(--success)',e.target.reset(),fetchMomentVaultGallery()}catch(e){console.error('Error uploading moment:',e),t.textContent=`Error uploading moment: ${e.message}`,t.style.color='var(--danger)'}}function readFileAsBase64(e){return new Promise((t,a)=>{const o=new FileReader;o.onload=()=>{const e=o.result.split(',')[1];t(e)},o.onerror=e=>a(e),o.readAsDataURL(e)})}async function editMoment(e,t){if('vmoments'!==prompt('Masukkan password untuk mengedit:'))return void alert('false');const a=t.find(t=>t.id===e);if(a){const t=prompt('Edit Title:',a.title);if(null!==t){const o=prompt('Edit Description:',a.description);if(null!==o){const n=document.getElementById('moment-upload-status');n.textContent='Updating',n.style.color='var(--text-secondary)';try{const i={id:e,title:t,description:o,fileUrl:a.fileUrl,fileType:a.fileType,timestamp:a.timestamp},d=await fetch('https://moment-vault-worker-url.universalezra.workers.dev',{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(i)});if(!d.ok)throw new Error('Failed to update moment metadata');n.textContent='successfully',n.style.color='var(--success)',fetchMomentVaultGallery()}catch(e){console.error('Error updating moment:',e),n.textContent=`Error updating moment: ${e.message}`,n.style.color='var(--danger)'}}}}}async function deleteMoment(e){if('vmoments'!==prompt('Masukkan password untuk menghapus:'))return void alert('false');if(confirm('Are you sure you want to delete? This action cannot be undone.')){const t=document.getElementById('moment-upload-status');t.textContent='Deleting',t.style.color='var(--text-secondary)';try{let a;try{const e=await fetch('https://github-token-worker-url.universalezra.workers.dev');if(!e.ok)throw new Error('Failed to fetch GitHub token');const t=await e.json();if(a=t.token,!a)throw new Error('GitHub token not found in response')}catch(e){return console.error('Error getting GitHub token for delete:',e),t.textContent=`Error: Could not get GitHub token for deletion. ${e.message}`,void(t.style.color='var(--danger)')}const o=await fetch('https://moment-vault-worker-url.universalezra.workers.dev?get_gallery=true');if(!o.ok)throw new Error('Failed to fetch gallery to find file path');const n=await o.json(),i=n.find(t=>t.id===e);if(!i||!i.fileUrl)throw new Error('its file URL not found.');let d;const r='https://raw.githubusercontent.com/universalezra/universalezra/main/';i.fileUrl.startsWith(r)?d=i.fileUrl.substring(r.length):(console.warn('Unexpected file URL format, attempting fallback path extraction:',i.fileUrl),d=`moments/${i.fileUrl.split('/').pop()}`);const l=`https://api.github.com/repos/universalezra/universalezra/contents/${d}`,s=await fetch(l,{headers:{Authorization:`token ${a}`,Accept:'application/vnd.github.v3+json'}});if(!s.ok){const e=await s.text();throw new Error(`Failed to get file SHA from GitHub: ${s.status} - ${e}`)}const c=await s.json(),p=c.sha,u=`https://api.github.com/repos/universalezra/universalezra/contents/${d}`,m=await fetch(u,{method:'DELETE',headers:{Authorization:`token ${a}`,'Content-Type':'application/json'},body:JSON.stringify({message:`Delete moment: ${i.title}`,sha:p,branch:'main'})});if(!m.ok){const e=await m.text();throw new Error(`GitHub deletion failed: ${m.status} - ${e}`)}const g=await fetch(`https://moment-vault-worker-url.universalezra.workers.dev?delete_moment_id=${e}`,{method:'DELETE'});if(!g.ok)throw new Error('Failed to delete');t.textContent='successfully',t.style.color='var(--success)',fetchMomentVaultGallery()}catch(e){console.error('Error deleting moment:',e),t.textContent=`Error deleting moment: ${e.message}`,t.style.color='var(--danger)'}}}function initVisualizer(){visualizerCanvas=document.getElementById('visualizer-canvas'),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),camera.position.z=5,renderer=new THREE.WebGLRenderer({canvas:visualizerCanvas,alpha:!0,antialias:!0}),renderer.setSize(window.innerWidth,window.innerHeight);const e=new THREE.IcosahedronGeometry(1,1),t=[];const a=new THREE.Color;for(let o=0;o<e.attributes.position.count;o++)a.setHSL(o/e.attributes.position.count,.7,.6),t.push(a.r,a.g,a.b);e.setAttribute('color',new THREE.Float32BufferAttribute(t,3));const o=new THREE.MeshBasicMaterial({vertexColors:!0,wireframe:!0});icosahedron=new THREE.Mesh(e,o),scene.add(icosahedron),frequencyBarsGroup=new THREE.Group,scene.add(frequencyBarsGroup);const n=new THREE.BufferGeometry,i=new THREE.PointsMaterial({size:.05,vertexColors:!0}),d=[],r=[];for(let e=0;e<500;e++)d.push(15*(Math.random()-.5),15*(Math.random()-.5),15*(Math.random()-.5)),a.setHSL(Math.random(),1,.5),r.push(a.r,a.g,a.b);n.setAttribute('position',new THREE.Float32BufferAttribute(d,3)),n.setAttribute('color',new THREE.Float32BufferAttribute(r,3)),particles3D=new THREE.Points(n,i),scene.add(particles3D),window.addEventListener('resize',onWindowResize,!1)}function createFrequencyBars(e){for(;frequencyBarsGroup.children.length>0;){const e=frequencyBarsGroup.children[0];frequencyBarsGroup.remove(e)}const t=e.context.sampleRate,a=e.fftSize,o=t/a,n=Math.ceil(20/o),i=Math.floor(1024/o),d=i-n+1;for(let e=0;e<d;e++){const t=.1,a=.02,o=new THREE.PlaneGeometry(a,t),n=.6+.3*(e/d),i=new THREE.Color().setHSL(n,.8,.6),r=new THREE.MeshBasicMaterial({color:i}),l=new THREE.Mesh(o,r),s=2*(e/d)*Math.PI,c=2,p=new THREE.Object3D;p.position.x=Math.cos(s)*c,p.position.y=Math.sin(s)*c,p.rotation.z=s+Math.PI/2,l.position.y=t/2,p.add(l),frequencyBarsGroup.add(p)}}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function setupAudioVisualizer(){const e=document.getElementById('audio-player');return!!e.src&&(audioContext||(audioContext=new(window.AudioContext||window.webkitAudioContext),source=audioContext.createMediaElementSource(e),analyser=audioContext.createAnalyser(),source.connect(analyser),analyser.connect(audioContext.destination),analyser.fftSize=8192,analyser.minDecibels=-90,analyser.maxDecibels=-10,analyser.smoothingTimeConstant=.85,bufferLength=analyser.frequencyBinCount,frequencyData=new Uint8Array(bufferLength),createFrequencyBars(analyser)),!0)}function drawVisualizer(){if(isVisualizerActive){requestAnimationFrame(drawVisualizer),analyser.getByteFrequencyData(frequencyData);const e=analyser.context.sampleRate/analyser.fftSize,t=Math.ceil(20/e);frequencyBarsGroup.children.forEach((a,o)=>{const n=a.children[0],i=t+o,d=frequencyData[i]/255,r=Math.max(.05,3.5*d);n.scale.y=r}),frequencyBarsGroup.rotation.z-=.001;const a=frequencyData.slice(0,Math.floor(bufferLength/4)),o=a.reduce((e,t)=>e+t,0)/a.length,n=frequencyData.slice(0,10).reduce((e,t)=>e+t,0)/10,i=1+.8*(o/255);icosahedron.scale.set(i,i,i),icosahedron.rotation.x+=.002,icosahedron.rotation.y+=.003,n>1.4*lastBassLevel&&n>60&&(()=>{const e=particles3D.geometry.attributes.color.array,t=new THREE.Color;for(let a=0;a<500;a++)t.setHSL(Math.random(),1,.5),e[3*a]=t.r,e[3*a+1]=t.g,e[3*a+2]=t.b;particles3D.geometry.attributes.color.needsUpdate=!0})(),lastBassLevel=n,particles3D.rotation.y+=5e-4,renderer.render(scene,camera)}}function toggleVisualizerOverlay(){const e=document.body;isVisualizerActive?(isVisualizerActive=!1,e.classList.remove('visualizer-active'),toggleFullscreen()):setupAudioVisualizer()&&(isVisualizerActive=!0,e.classList.add('visualizer-active'),drawVisualizer(),toggleFullscreen())}function toggleFullscreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.log(`Error when system attempting to enable fullscreen: ${e.message}`)})}function initPasswordFeature(){const e=document.getElementById('fab-keyboard-toggle'),t=document.getElementById('fab-live-visitors'),a=document.getElementById('center-video-container'),o=document.getElementById('center-video-player'),n=document.getElementById('center-video-close'),i={mylove:()=>{t.style.display='flex',t.setAttribute('data-unlocked','true')},elvy:()=>{a.classList.add('active'),o.src='/dashboard/stiker.mp4',o.play()},elvi:()=>{isElviModeActive=!0;const e=document.getElementById('block-2-3');e&&(()=>{const t=e.querySelector('.grid-block-background');t&&(t.style.background="url('/dashboard/elvi.jpg') center center / cover no-repeat",t.style.filter='none',t.style.webkitFilter='none');const a=e.querySelector('.grid-block-content');a&&(a.style.display='none')})(),updateUIVisibility(),1===currentY&&2===currentX&&enterFullscreen()}};e.addEventListener('click',()=>{const e=prompt('Please enter the password:');e&&i[e]?i[e]():null!==e&&alert('Incorrect password!')}),n.addEventListener('click',()=>{o.pause(),o.src='',a.classList.remove('active')})}function initSecurityFeatures(){document.addEventListener('contextmenu',e=>e.preventDefault()),document.addEventListener('copy',e=>e.preventDefault()),document.addEventListener('cut',e=>e.preventDefault()),window.addEventListener('keyup',e=>{if('PrintScreen'===e.key){const e=document.getElementById('screenshot-popup');e.style.display='block',setTimeout(()=>{e.style.display='none'},3e3)}})}function checkFirstVisit(){const e=localStorage.getItem('hasVisitedWebsite'),t=getBrowserId();e?console.log(`Welcome back ID: ${t}`):(()=>{const e=document.getElementById('new-user-popup'),a=document.getElementById('popup-close-btn');e.style.display='block',console.log(`Welcome, new visitor Browser ID: ${t}`),console.log('For the best experience, please use our app: https://drive.google.com/file/d/1URJk46fP6cyzDoRRPUs83sDhHINpJDwJ/view?usp=drivesdk and switch to landscape mode.'),console.log('Privacy Policy: We collect anonymous data like browser ID and IP address for statistical analysis. This data will not be shared.'),a.addEventListener('click',()=>{e.style.display='none',localStorage.setItem('hasVisitedWebsite','true')})})}document.getElementById('contribution-form').addEventListener('submit',async e=>{e.preventDefault();const t=document.getElementById('contribution-status');t.textContent='Uploading';const a=new FormData;a.append('text',document.getElementById('contribution-text').value);try{const o=await fetch('https://contributions-workerjs.ezvvel.workers.dev/',{method:'POST',body:a});if(!o.ok)throw new Error('Upload failed');t.textContent='Message sent. Thank you.',e.target.reset(),fetchContributions()}catch(e){t.textContent=`Error: ${e.message}`}}),document.addEventListener('DOMContentLoaded',checkEzraLoginAndShowVisitorsButton),document.getElementById('moment-upload-form').addEventListener('submit',uploadMoment);</script></body></html>
