<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="description" content="Secure authentication platform">
    <meta name="theme-color" content="#0a0a12">
    <title class="atn">Biometric</title>
    <meta http-equiv="Content-Security-Policy" content="default-src 'self';script-src 'self' https://api.ipify.org;style-src 'self' 'unsafe-inline';img-src 'self' data:;connect-src 'self' https://api.ipify.org https://auth-logs.universalezra.workers.dev/;frame-src 'none';">
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="ezra.js" as="script">
    <link rel="stylesheet" href="style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
</head>
<body>
    <div class="container">
        <header class="auth-header">
            <h1 class="sr-only atn">Authentication</h1> 
            <div class="biometric-container">
                <img src="mix.svg" alt="Mix uai" class="biometric-scan" width="200" height="200">
                <div class="scan-line" id="scanLine" aria-hidden="true"></div>
            </div>
            <div class="status atn" id="status" aria-live="polite">Initializing system</div> 
        </header>

        <main class="auth-main">
            <div class="btn-container" id="btnContainer">
                <button class="auth-btn" id="fallbackBtn"><span class="icon">✉️</span><span class="atn">Login</span></button>
                <button class="auth-btn" id="visitBtn"><span class="icon">🚀</span><span class="atn">Dashboard</span></button>
                <button class="auth-btn" id="webauthnBtn"><span class="icon">🔒</span><span class="atn">Login WebAuthn</span></button>
            </div>
            
            <form id="loginForm" class="login-form" novalidate>
                <div class="form-group">
                    <label for="email" class="atn">Username</label>
                    <input type="text" id="email" name="email" required aria-required="true" autocomplete="username" autocapitalize="off">
                </div>
                
                <div class="form-group">
                    <label for="password" class="atn">Password</label>
                    <div class="password-wrapper">
                        <input type="password" id="password" name="password" required aria-required="true" autocomplete="current-password">
                        <button type="button" class="toggle-password" aria-label="Show password">🧑‍💻</button>
                    </div>
                </div>
                
                <button type="submit" class="auth-btn primary" id="submitLogin"><span class="btn-text atn">Login</span><span class="loading-spinner" id="loadingSpinner" aria-hidden="true"></span></button>
                
                <div id="errorMsg" class="error-msg atn" aria-live="assertive"></div>
            </form>
            
            <div id="webauthnUnsupported" class="unsupported-warning" style="display: none;">
                <p class="atn">Your browser doesn't support WebAuthn. login with username?. This application uses the WebAuthn API for passwordless authentication</p>
                <a href="https://webauthn.me/browser-support" target="_blank" rel="noopener noreferrer" class="auth-btn atn">Browser Compatibility</a>
            </div>
        </main>
        
        <footer class="auth-footer">
            <div class="ip-display atn" id="ipDisplay">Detecting</div>
            
            <div class="security-info">
                <span class="atn">🎖️</span><span id="ezraText" class="atn">Ezra</span><span class="atn">since 2025🎖️</span>
            </div>
        </footer>
    </div>
    <script src="ezra.js" defer></script>
</body>
</html>
