<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="description" content="Dashboard"><meta name="theme-color" content="#000000"><title>Dashboard</title><link rel="preload" href="elvi.css" as="style"><link rel="stylesheet" href="elvi.css"><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><style>:root{--primary:#00ff88;--accent:#00bfff;--bg-main:#0a0a12;--text-primary:#e0e0e0;--text-secondary:#a0a0a0;--card-bg:#1a1a2e;--border-color:#333;--shadow-light:rgba(0,0,0,.2);--shadow-dark:rgba(0,0,0,.5);--button-bg:#2a2a3e;--button-hover:#3a3a4e;--input-bg:#1a1a2e;--input-border:#00ff88;--link-color:#00ff88;}body[data-theme="light"]{--primary:#007bff;--accent:#ff4500;--bg-main:#f0f2f5;--text-primary:#333;--text-secondary:#666;--card-bg:#fff;--border-color:#ddd;--shadow-light:rgba(0,0,0,.1);--shadow-dark:rgba(0,0,0,.3);--button-bg:#e0e0e0;--button-hover:#d0d0d0;--input-bg:#fff;--input-border:#007bff;--link-color:#007bff;}body{font-family:'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';margin:0;padding:0;background-color:var(--bg-main);color:var(--text-primary);transition:background-color .3s ease,color .3s ease;height:100vh;overflow:hidden;position:relative;}.dashboard-container{display:flex;flex-direction:column;min-height:100vh;}.header{background-color:var(--card-bg);padding:1rem 1.5rem;box-shadow:var(--shadow-light);display:flex;justify-content:space-between;align-items:center;}.header-title{margin:0;font-size:1.5rem;color:var(--primary);}.nav-links a{color:var(--text-secondary);text-decoration:none;margin-left:1.5rem;font-size:.95rem;transition:color .2s ease;}.nav-links a:hover{color:var(--primary);}.main-content{flex-grow:1;padding:1.5rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;align-content:start;overflow-y:auto;}.card{background-color:var(--card-bg);border-radius:8px;box-shadow:var(--shadow-dark);padding:1.5rem;text-align:center;transition:transform .2s ease,box-shadow .2s ease;}.card:hover{transform:translateY(-5px);box-shadow:0 10px 20px var(--shadow-dark);}.card-title{color:var(--primary);margin-top:0;margin-bottom:.8rem;font-size:1.2rem;}.card-content{color:var(--text-secondary);font-size:.9rem;}.footer{background-color:var(--card-bg);padding:1rem 1.5rem;text-align:center;color:var(--text-secondary);font-size:.85rem;box-shadow:0 -2px 5px var(--shadow-light);}.fab-container{position:fixed;display:flex;flex-direction:column;gap:.75rem;z-index:1000;}.fab-container.top-left{top:1.5rem;left:1.5rem;}.fab-container.top-right{top:1.5rem;right:1.5rem;}.fab-container.bottom-left{bottom:1.5rem;left:1.5rem;}.fab-container.bottom-right{bottom:1.5rem;right:1.5rem;}.fab-button{background-color:var(--primary);color:var(--bg-main);border:none;border-radius:50%;width:56px;height:56px;font-size:1.5rem;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,.3);transition:background-color .2s ease,transform .2s ease;}.fab-button:hover{background-color:var(--primary-dark);transform:scale(1.05);}.panel-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1100;backdrop-filter:blur(5px);-webkit-backdrop-filter:blur(5px);}.panel{background-color:var(--card-bg);border-radius:12px;box-shadow:0 8px 16px rgba(0,0,0,.5);padding:2rem;position:relative;width:90%;max-width:800px;max-height:90vh;overflow-y:auto;transform:scale(.95);animation:panel-open .3s forwards;}.panel-close-btn{position:absolute;top:1rem;right:1rem;background:none;border:none;color:var(--text-secondary);font-size:1.8rem;cursor:pointer;}.panel-title{color:var(--primary);margin-top:0;margin-bottom:1.5rem;font-size:1.8rem;text-align:center;}.form-group{margin-bottom:1rem;}.form-group label{display:block;margin-bottom:.5rem;color:var(--text-secondary);font-size:.9rem;}.form-group input,.form-group textarea,.form-group select{width:100%;padding:.8rem;background-color:var(--input-bg);border:1px solid var(--input-border);border-radius:6px;color:var(--text-primary);font-size:1rem;}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,255,136,.3);}.btn-submit{background-color:var(--primary);color:var(--bg-main);border:none;border-radius:6px;padding:.8rem 1.5rem;font-size:1rem;cursor:pointer;transition:background-color .2s ease;}.btn-submit:hover{background-color:var(--primary-dark);}.list-item{padding:.75rem 0;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;}.list-item:last-child{border-bottom:none;}.list-item-title{font-weight:bold;color:var(--primary);}.list-item-subtitle{font-size:.85rem;color:var(--text-secondary);}.social-links{position:fixed;bottom:1.5rem;right:1.5rem;display:flex;flex-direction:column;gap:.75rem;z-index:1000;}.social-button{background-color:var(--primary);color:var(--bg-main);border:none;border-radius:50%;width:48px;height:48px;font-size:1.3rem;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,.3);transition:background-color .2s ease,transform .2s ease;text-decoration:none;}.social-button:hover{background-color:var(--primary-dark);transform:scale(1.05);}.video-player-widget{position:fixed;top:1.5rem;left:50%;transform:translateX(-50%);width:320px;height:180px;background-color:#000;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.3);overflow:hidden;z-index:999;}.video-player-widget video{width:100%;height:100%;object-fit:cover;}.central-message{text-align:center;padding:2rem 0;color:var(--text-primary);font-size:1.8rem;}.ezra-link{color:var(--primary);text-decoration:none;font-weight:bold;transition:color .2s ease;}.ezra-link:hover{color:var(--accent);}.website-age{margin-top:1rem;font-size:.9rem;color:var(--text-secondary);}.music-player-controls{display:flex;justify-content:center;gap:1rem;margin-top:1rem;}.music-player-controls button{background-color:var(--button-bg);color:var(--text-primary);border:1px solid var(--border-color);padding:.5rem 1rem;border-radius:6px;cursor:pointer;transition:background-color .2s ease;}.music-player-controls button:hover{background-color:var(--button-hover);}.music-player-widget{background-color:var(--card-bg);padding:1.5rem;border-radius:8px;box-shadow:var(--shadow-dark);text-align:center;}.music-player-widget audio{width:100%;margin-top:1rem;}.music-player-widget ul{list-style:none;padding:0;margin-top:1rem;max-height:150px;overflow-y:auto;}.music-player-widget li{padding:.5rem;cursor:pointer;transition:background-color .2s ease;}.music-player-widget li:hover{background-color:rgba(0,0,0,.1);}.music-player-widget li.active{background-color:var(--primary);color:var(--bg-main);font-weight:bold;}.code-editor-panel #unified-code-editor{min-height:300px;font-family:'Fira Code',monospace;font-size:.9rem;white-space:pre-wrap;overflow-wrap:break-word;word-break:break-all;}.editor-toolbar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.5rem;}.editor-toolbar button{background-color:var(--button-bg);color:var(--text-primary);border:1px solid var(--border-color);padding:.4rem .8rem;border-radius:4px;cursor:pointer;transition:background-color .2s ease;font-size:.85rem;}.editor-toolbar button:hover{background-color:var(--button-hover);}.editor-preview{width:100%;height:300px;border:1px solid var(--border-color);border-radius:6px;background-color:#fff;margin-top:1rem;}.live-visitors-list{max-height:300px;overflow-y:auto;}.live-visitors-list div{padding:.5rem;border-bottom:1px solid var(--border-color);font-size:.9rem;}.live-visitors-list div:last-child{border-bottom:none;}.moment-gallery{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;padding-top:1rem;}.moment-item{background-color:var(--button-bg);border-radius:8px;overflow:hidden;box-shadow:var(--shadow-light);position:relative;}.moment-item img,.moment-item video,.moment-item audio,.moment-item iframe{width:100%;height:auto;display:block;}.moment-item .moment-title{padding:.5rem;font-size:.9rem;font-weight:bold;color:var(--primary);}.moment-item .moment-description{padding:0 .5rem .5rem;font-size:.8rem;color:var(--text-secondary);}.moment-item .moment-actions{position:absolute;top:.5rem;right:.5rem;display:flex;gap:.5rem;}.moment-item .moment-actions button{background-color:rgba(0,0,0,.5);color:#fff;border:none;border-radius:4px;padding:.3rem .5rem;cursor:pointer;font-size:.8rem;}.moment-item .moment-actions button:hover{background-color:rgba(0,0,0,.7);}.fab-button.party-mode-toggle,.fab-button.device-info-toggle{position:fixed;width:60px;height:60px;font-size:1.8rem;z-index:1200;}.fab-button.party-mode-toggle{bottom:1.5rem;left:1.5rem;}.fab-button.device-info-toggle{bottom:1.5rem;right:1.5rem;}#partyModeOverlay,#deviceInfoOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,1);display:none;justify-content:center;align-items:center;z-index:1500;}.overlay-content{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;}.overlay-close-btn{position:absolute;top:1rem;right:1rem;background:none;border:none;color:white;font-size:2rem;cursor:pointer;z-index:1600;}.device-info-content{background-color:var(--card-bg);padding:2rem;border-radius:12px;box-shadow:0 8px 16px rgba(0,0,0,.5);max-width:500px;width:90%;max-height:80vh;overflow-y:auto;}.device-info-content h2{color:var(--primary);text-align:center;margin-bottom:1.5rem;}.device-info-content p{margin-bottom:.8rem;line-height:1.5;}.device-info-content span.label{font-weight:bold;color:var(--text-secondary);margin-right:.5rem;}#partyModeCanvas{display:block;width:100%;height:100%;background-color:black;}</style></head><body><div id="interactive-bg"></div><div class="dashboard-container"><header class="header"><h1 class="header-title">Dashboard</h1><nav class="nav-links"><a href="#">Home</a><a href="#">Settings</a><a href="#">Profile</a></nav></header><main class="main-content"><div class="central-message">Welcome to your secure dashboard! <a href="elvi.html" class="ezra-link">Visit Ezra</a><div class="website-age">Website active for: <span id="website-age-display">0Y 0M 0D 00:00:00</span></div></div><div class="card"><h2 class="card-title">Analytics</h2><p class="card-content">View your website statistics and user engagement.</p></div><div class="card"><h2 class="card-title">Notifications</h2><p class="card-content">Stay updated with the latest alerts and messages.</p></div><div class="card"><h2 class="card-title">Settings</h2><p class="card-content">Customize your dashboard preferences.</p></div></main><footer class="footer">© 2025 Your Dashboard. All rights reserved.</footer><div class="fab-container top-left"><button id="fabEditor" class="fab-button">📝</button></div><div class="fab-container top-right"><button id="fabMusic" class="fab-button">🎵</button></div><div class="fab-container bottom-left"><button id="fabAlkitab" class="fab-button">📖</button><button id="fabContribution" class="fab-button">✉️</button></div><div class="fab-container bottom-right"><button id="fabLiveVisitors" class="fab-button">👥</button><button id="fabMomentVault" class="fab-button">🖼️</button></div><div id="editorPanel" class="panel-overlay" style="display:none;"><div class="panel code-editor-panel"><button class="panel-close-btn">✖️</button><h2 class="panel-title">Code Editor</h2><div class="editor-toolbar"><button id="runCode">Run</button><button id="saveCode">Save</button><button id="loadCode">Load</button><button id="newCode">New</button><button id="undoCode">Undo</button><button id="redoCode">Redo</button></div><textarea id="unified-code-editor" placeholder="Write your HTML, CSS, or JavaScript here..."></textarea><iframe id="editor-preview" title="Code Preview"></iframe></div></div><div id="musicPanel" class="panel-overlay" style="display:none;"><div class="panel music-player-widget"><button class="panel-close-btn">✖️</button><h2 class="panel-title">Music Player</h2><p id="song-title">No song playing</p><audio id="audio-player" controls></audio><div class="music-player-controls"><button id="prev-song">Previous</button><button id="next-song">Next</button></div><ul id="playlist"></ul></div></div><div id="contributionPanel" class="panel-overlay" style="display:none;"><div class="panel contribution-panel"><button class="panel-close-btn">✖️</button><h2 class="panel-title">Leave a Message (Contribution)</h2><form id="contribution-form"><div class="form-group"><label for="contributor-name">Your Name</label><input type="text" id="contributor-name" required></div><div class="form-group"><label for="contribution-message">Your Message</label><textarea id="contribution-message" rows="5" required></textarea></div><button type="submit" class="btn-submit">Submit Message</button></form><div id="contribution-display"></div></div></div><div id="liveVisitorsPanel" class="panel-overlay" style="display:none;"><div class="panel live-visitors-panel"><button class="panel-close-btn">✖️</button><h2 class="panel-title">Live Visitors</h2><input type="password" id="visitor-password-input" placeholder="Enter password"><button id="unlock-visitors-btn">Unlock</button><div id="visitor-list"></div></div></div><div id="momentVaultPanel" class="panel-overlay" style="display:none;"><div class="panel moment-vault-panel"><button class="panel-close-btn">✖️</button><h2 class="panel-title">Moment Vault</h2><form id="upload-moment-form"><div class="form-group"><label for="moment-title">Title</label><input type="text" id="moment-title"></div><div class="form-group"><label for="moment-description">Description</label><textarea id="moment-description" rows="3"></textarea></div><div class="form-group"><label for="moment-file">File</label><input type="file" id="moment-file" accept="image/*,video/*,audio/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"></div><button type="submit" class="btn-submit">Upload Moment</button></form><div id="moment-vault-gallery"></div></div></div><div class="video-player-widget"><video src="video.mp4" controls muted autoplay loop></video></div><div class="social-links"><a href="https://wa.me/yourphonenumber" target="_blank" class="social-button">💬</a><a href="https://instagram.com/yourinstagram" target="_blank" class="social-button">📸</a></div><button class="fab-button party-mode-toggle" id="partyModeToggleBtn">🎉</button><div id="partyModeOverlay" style="display:none;"><canvas id="partyModeCanvas"></canvas><button class="overlay-close-btn" id="partyModeCloseBtn">✖️</button></div><button class="fab-button device-info-toggle" id="deviceInfoToggleBtn">📱</button><div id="deviceInfoOverlay" style="display:none;"><div class="device-info-content"><button class="overlay-close-btn" id="deviceInfoCloseBtn">✖️</button><h2>Device Information</h2><p><span class="label">Device Name:</span> <span id="deviceName">N/A</span></p><p><span class="label">Operating System:</span> <span id="osName">N/A</span></p><p><span class="label">User Agent:</span> <span id="userAgent">N/A</span></p><p><span class="label">Screen Resolution:</span> <span id="screenRes">N/A</span></p><p><span class="label">Language:</span> <span id="deviceLanguage">N/A</span></p><p><span class="label">Battery Level:</span> <span id="batteryLevel">N/A</span></p><p><span class="label">Charging:</span> <span id="batteryCharging">N/A</span></p><p><span class="label">Current Time:</span> <span id="currentTime">N/A</span></p><p><span class="label">Hardware Concurrency:</span> <span id="hardwareConcurrency">N/A</span></p></div></div><script>document.addEventListener("DOMContentLoaded",function(){var t={};function e(t,e){t.style.display=e?"flex":"none"}function i(){var t=new Date();var e=new Date("2025-06-21T00:00:00Z");var i=t.getTime()-e.getTime();var s=Math.floor(i/31536e6);i%=31536e6;var n=Math.floor(i/2592e6);i%=2592e6;var a=Math.floor(i/864e5);i%=864e5;var o=Math.floor(i/36e5)%24;var l=Math.floor(i/6e4)%60;var r=Math.floor(i/1e3)%60;document.getElementById("website-age-display").textContent=s+"Y "+n+"M "+a+"D "+String(o).padStart(2,"0")+":"+String(l).padStart(2,"0")+":"+String(r).padStart(2,"0")}setInterval(i,1e3);i();var s=document.getElementById("fabEditor"),n=document.getElementById("editorPanel"),a=n.querySelector(".panel-close-btn"),o=document.getElementById("unified-code-editor"),l=document.getElementById("editor-preview"),r=document.getElementById("runCode"),d=document.getElementById("saveCode"),c=document.getElementById("loadCode"),u=document.getElementById("newCode"),h=document.getElementById("undoCode"),m=document.getElementById("redoCode"),p=[],f=0;function g(t){try{l.contentWindow.document.open();l.contentWindow.document.write(t);l.contentWindow.document.close()}catch(t){console.error("Error updating preview:",t);l.contentWindow.document.open();l.contentWindow.document.write("Error: Could not render preview. Check console for details.");l.contentWindow.document.close()}}function v(){p=p.slice(0,f+1);p.push(o.value);f=p.length-1;if(p.length>50)p.shift(),f--;}function C(){if(f<p.length-1)f++,o.value=p[f];}function y(){if(f>0)f--,o.value=p[f];}s.addEventListener("click",()=>e(n,!0));a.addEventListener("click",()=>e(n,!1));r.addEventListener("click",()=>g(o.value));d.addEventListener("click",function(){v();localStorage.setItem("savedCode",o.value);alert("Code saved!");});c.addEventListener("click",function(){o.value=localStorage.getItem("savedCode")||"<!DOCTYPE html>\n<html>\n<head>\n  <title>Preview</title>\n  <style>\n    body { font-family: sans-serif; background-color: #f0f0f0; padding: 20px; }\n  </style>\n</head>\n<body>\n  <h1>Hello, World!</h1>\n  <p>Your code will appear here.</p>\n  <script>\n    // JavaScript goes here\n  <\/script>\n</body>\n</html>";v();g(o.value)});u.addEventListener("click",function(){o.value="";v();g(o.value)});o.addEventListener("input",function(){clearTimeout(t.typingTimer);t.typingTimer=setTimeout(v,500);});h.addEventListener("click",y);m.addEventListener("click",C);v();var b=document.getElementById("fabMusic"),x=document.getElementById("musicPanel"),w=x.querySelector(".panel-close-btn"),_=document.getElementById("audio-player"),k=document.getElementById("song-title"),E=document.getElementById("playlist"),L=document.getElementById("prev-song"),I=document.getElementById("next-song"),P=["Life-Goes-On.mp3","Where-We-Are.mp3","Sekuat Hatimu.mp3"],T=0;function M(t){_.src="music/"+P[t];_.play();k.textContent=P[t].replace(".mp3","");Array.from(E.children).forEach((e,i)=>{e.classList.toggle("active",i===t)})}$.each(P,function(t,e){var i=$("<li>").text(e.replace(".mp3","")).data("index",t);E.append(i)});E.on("click","li",function(){T=$(this).data("index");M(T)});_.addEventListener("ended",function(){T=(T+1)%P.length;M(T)});L.addEventListener("click",function(){T=(T-1+P.length)%P.length;M(T)});I.addEventListener("click",function(){T=(T+1)%P.length;M(T)});b.addEventListener("click",()=>e(x,!0));w.addEventListener("click",()=>e(x,!1));var S=document.getElementById("fabContribution"),A=document.getElementById("contributionPanel"),D=A.querySelector(".panel-close-btn"),N=document.getElementById("contribution-form"),R=document.getElementById("contributor-name"),j=document.getElementById("contribution-message"),B=document.getElementById("contribution-display"),W="https://your-contributions-worker.yourdomain.workers.dev";async function z(){try{const t=await fetch(W);const e=await t.json();B.innerHTML="";e.forEach(t=>{const e=document.createElement("div");e.className="list-item";e.innerHTML=`<div><div class="list-item-title">${t.name}</div><div class="list-item-subtitle">${t.message}</div></div>`;B.appendChild(e)})}catch(t){console.error("Error fetching contributions:",t)}}N.addEventListener("submit",async t=>{t.preventDefault();const e={name:R.value,message:j.value};try{const t=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){alert("Message submitted!");R.value="";j.value="";z()}else alert("Failed to submit message.")}catch(t){console.error("Error submitting message:",t);alert("Error submitting message.")}});S.addEventListener("click",()=>e(A,!0));D.addEventListener("click",()=>e(A,!1));z();var F=document.getElementById("fabLiveVisitors"),O=document.getElementById("liveVisitorsPanel"),q=O.querySelector(".panel-close-btn"),V=document.getElementById("visitor-password-input"),U=document.getElementById("unlock-visitors-btn"),K=document.getElementById("visitor-list"),G="https://your-live-visitors-worker.yourdomain.workers.dev",H="v",Y=5e3;async function Q(){try{const t=localStorage.getItem("browserId")||"visitor-"+Date.now()+"-"+Math.random().toString(36).substr(2,9);localStorage.setItem("browserId",t);const e=await fetch(G,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({browserId:t,timestamp:new Date().toISOString()})});if(!e.ok)throw new Error("Failed to register visit.");const i=await fetch(G);const s=await i.json();K.innerHTML="";s.forEach(t=>{const e=document.createElement("div");e.textContent=`ID: ${t.browserId.substring(0,8)}... | IP: ${t.ip||"N/A"} | Last Visit: ${new Date(t.timestamp).toLocaleString()}`;K.appendChild(e)})}$.fn&&$.fn.moment&&($.fn.moment.relativeTime.future="in %s",$.fn.moment.relativeTime.past="%s ago");}catch(t){console.error("Error fetching live visitors:",t)}}function X(){var t=V.value;if(t===H){V.style.display="none";U.style.display="none";K.style.display="block";Q();setInterval(Q,Y)}else{alert("Incorrect password!");V.value=""}}U.addEventListener("click",X);F.addEventListener("click",()=>e(O,!0));q.addEventListener("click",()=>e(O,!1));var j=document.getElementById("fabMomentVault"),B=document.getElementById("momentVaultPanel"),W=B.querySelector(".panel-close-btn"),z=document.getElementById("upload-moment-form"),$=document.getElementById("moment-title"),tt=document.getElementById("moment-description"),et=document.getElementById("moment-file"),it=document.getElementById("moment-vault-gallery"),st="https://your-github-kv-worker.yourdomain.workers.dev",nt="https://api.github.com/repos/YOUR_GITHUB_USER/YOUR_REPO/contents/",at="YOUR_GITHUB_TOKEN",ot="YOUR_GITHUB_USER",lt="YOUR_REPO";async function rt(){try{const t=await fetch(st);const e=await t.json();it.innerHTML="";const i=Object.keys(e).map(t=>e[t]).sort((t,e)=>new Date(e.timestamp)-new Date(t.timestamp));i.forEach(t=>{const e=document.createElement("div");e.className="moment-item";let i="";if(t.fileType.startsWith("image/"))i=`<img src="${t.url}" alt="${t.title}" loading="lazy">`;else if(t.fileType.startsWith("video/"))i=`<video controls src="${t.url}"></video>`;else if(t.fileType.startsWith("audio/"))i=`<audio controls src="${t.url}"></audio>`;else i=`<iframe src="${t.url}" style="width:100%;height:150px;border:none;"></iframe><p style="text-align:center;font-size:12px;">${t.fileName}</p>`;e.innerHTML=`${i}<div class="moment-title">${t.title||"No Title"}</div><div class="moment-description">${t.description||"No Description"}</div><div class="moment-actions"><button data-id="${t.id}" class="edit-moment-btn">✏️</button><button data-id="${t.id}" class="delete-moment-btn">🗑️</button></div>`;it.appendChild(e)});document.querySelectorAll(".edit-moment-btn").forEach(t=>t.addEventListener("click",async e=>{const i=e.target.dataset.id;const s=prompt("Enter new title:");const n=prompt("Enter new description:");if(s!==null&&n!==null){await ut(i,s,n);rt()}}));document.querySelectorAll(".delete-moment-btn").forEach(t=>t.addEventListener("click",async e=>{if(confirm("Are you sure you want to delete this moment?")){const i=e.target.dataset.id;await ct(i);rt()}}))}catch(t){console.error("Error fetching moments:",t)}}async function dt(t,e,i){const s=et.files[0];if(!s)return alert("Please select a file.");const n=s.name;const a=s.type;const o=URL.createObjectURL(s);const l=await new Promise(t=>{const e=new FileReader;e.onload=()=>{t(btoa(e.result))};e.readAsBinaryString(s)});const r=nt+n;try{const s=await fetch(r,{method:"PUT",headers:{"Authorization":`token ${at}`,"Content-Type":"application/json"},body:JSON.stringify({message:`Upload ${n}`,content:l})});if(!s.ok)throw new Error("Failed to upload to GitHub.");const c=await s.json();const u=c.content.sha;const h={id:c.content.sha,title:t,description:e,fileName:n,fileType:a,url:c.content.download_url,timestamp:new Date().toISOString()};await fetch(st,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});alert("Moment uploaded successfully!");$.value="";tt.value="";et.value="";rt()}catch(t){console.error("Error uploading moment:",t);alert("Failed to upload moment.")}}async function ut(t,e,i){try{await fetch(st,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,title:e,description:i})});alert("Moment updated successfully!")}catch(t){console.error("Error updating moment:",t);alert("Failed to update moment.")}}async function ct(t){try{const e=await fetch(`${st}?id=${t}`);const i=await e.json();const s=nt+i.fileName;const n=await fetch(s,{method:"DELETE",headers:{"Authorization":`token ${at}`,"Content-Type":"application/json"},body:JSON.stringify({message:`Delete ${i.fileName}`,sha:i.id})});if(!n.ok)throw new Error("Failed to delete from GitHub.");await fetch(st,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});alert("Moment deleted successfully!")}catch(t){console.error("Error deleting moment:",t);alert("Failed to delete moment.")}}z.addEventListener("submit",async t=>{t.preventDefault();await dt($.value,tt.value);});j.addEventListener("click",()=>e(B,!0));W.addEventListener("click",()=>e(B,!1));rt();var ut=document.getElementById("partyModeToggleBtn"),ct=document.getElementById("partyModeOverlay"),dt=document.getElementById("partyModeCanvas"),At=document.getElementById("partyModeCloseBtn");var Yt=null,Qt=null,Xt=null,Jt=null,Zt=null,te=0,ee=[];function ie(){if(!_||!_["captureStream"])return;Yt=new(window.AudioContext||window.webkitAudioContext)();Qt=Yt.createMediaElementSource(_);Jt=Yt.createAnalyser();Jt.fftSize=256;var t=Jt.frequencyBinCount;Xt=new Uint8Array(t);Qt.connect(Jt);Jt.connect(Yt.destination);Zt=dt.getContext("2d");dt.width=window.innerWidth;dt.height=window.innerHeight;window.addEventListener("resize",()=>{dt.width=window.innerWidth;dt.height=window.innerHeight});_["play"]().catch(t=>console.error("Audio playback failed:",t));ne()}function se(t,e,i,s,n,a){Zt.beginPath();Zt.arc(t,e,i,0,2*Math.PI);Zt.fillStyle=a;Zt.fill();Zt.shadowBlur=10;Zt.shadowColor=a;Zt.closePath()}function ne(){requestAnimationFrame(ne);if(!Jt)return;Jt.getByteFrequencyData(Xt);var t=0;for(var e=0;e<Xt.length;e++)t+=Xt[e];var i=t/Xt.length;te=i;Zt.clearRect(0,0,dt.width,dt.height);var s=Math.max(1,Math.floor(i/10));if(ee.length<s){for(var n=0;n<s-ee.length;n++){var a={x:Math.random()*dt.width,y:Math.random()*dt.height,radius:2+Math.random()*3,color:`hsl(${Math.random()*360},100%,70%)`,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5};ee.push(a)}}else if(ee.length>s){ee=ee.slice(0,s)}for(var o=0;o<ee.length;o++){var l=ee[o];l.x+=l.vx;l.y+=l.vy;if(l.x<0||l.x>dt.width)l.vx*=-1;if(l.y<0||l.y>dt.height)l.vy*=-1;var r=l.radius+(i/30);se(l.x,l.y,r,0,0,l.color)}var d=Date.now()/500;var c=dt.width/2;var u=dt.height/2;var h=50+(i/2);var m=10;for(var p=0;p<m;p++){var f=p*Math.PI*2/m+d;var g=c+Math.cos(f)*h;var v=u+Math.sin(f)*h;var C=`hsl(${p*36+d*10%360},100%,60%)`;Zt.beginPath();Zt.moveTo(c,u);Zt.lineTo(g,v);Zt.strokeStyle=C;Zt.lineWidth=2+i/50;Zt.shadowBlur=20;Zt.shadowColor=C;Zt.stroke();Zt.closePath()}}ut.addEventListener("click",()=>{e(ct,!0);ie();});At.addEventListener("click",()=>{e(ct,!1);if(Yt)Yt.close().then(()=>Yt=null);_["pause"]();});var me=document.getElementById("deviceInfoToggleBtn"),pe=document.getElementById("deviceInfoOverlay"),fe=document.getElementById("deviceInfoCloseBtn"),ge=document.getElementById("deviceName"),ve=document.getElementById("osName"),Ce=document.getElementById("userAgent"),ye=document.getElementById("screenRes"),be=document.getElementById("deviceLanguage"),xe=document.getElementById("batteryLevel"),we=document.getElementById("batteryCharging"),_e=document.getElementById("currentTime"),ke=document.getElementById("hardwareConcurrency");function Ee(){var t=`${navigator.vendor||""} ${navigator.platform||""}`;if(navigator.userAgentData){navigator.userAgentData.getHighEntropyValues(["platform","platformVersion","architecture","model"]).then(e=>{t=`${e.platform} ${e.platformVersion} (${e.architecture}) ${e.model||""}`;if(e.model)ge.textContent=e.model;else if(navigator.platform)ge.textContent=navigator.platform;ve.textContent=`${e.platform} ${e.platformVersion}`;Ce.textContent=navigator.userAgent;ye.textContent=`${window.screen.width}x${window.screen.height}`;be.textContent=navigator.language;ke.textContent=navigator.hardwareConcurrency||"N/A"})}}function Le(){var t=new Date();_e.textContent=t.toLocaleString()}me.addEventListener("click",()=>{e(pe,!0);Ee();if("getBattery"in navigator){navigator.getBattery().then(t=>{function e(){xe.textContent=`${(100*t.level).toFixed(0)}%`;we.textContent=t.charging?"Yes":"No"}e();t.addEventListener("levelchange",e);t.addEventListener("chargingchange",e)})}else{xe.textContent="N/A";we.textContent="N/A"}setInterval(Le,1e3);Le()});fe.addEventListener("click",()=>e(pe,!1))});</script></body></html>
